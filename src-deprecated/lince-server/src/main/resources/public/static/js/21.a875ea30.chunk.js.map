{"version":3,"sources":["components/lince/video/VideoAI.jsx","../../../shared/components/Feedback/Alert.style.js","../../../shared/components/Feedback/Alert.js","components/utility/MessagePrompter.js","containers/Lince/AIStudio.js","../../../shared/components/utility/layoutWrapper.style.js","../../../shared/components/utility/layoutContent.style.js","../../../shared/components/utility/layoutContent.js","../../../shared/components/uielements/styles/button.style.js","../../../shared/components/uielements/button.js","../../../shared/components/utility/box.style.js","../../../shared/components/utility/layoutWrapper.js","../../../shared/components/utility/boxTitle.style.js","../../../shared/components/utility/boxTitle.js","../../../shared/components/utility/pageHeader.style.js","../../../shared/components/utility/pageHeader.js","../../../shared/components/utility/box.js","../../../shared/components/utility/contentHolder.style.js","../../../shared/components/utility/contentHolder.js","config/regex.config.js","config/i18n.js","components/lince/StyledResizable.js","config/keyboard.config.js","components/lince/LinceRegister.js","../../../shared/containers/Widgets/Sticker/StickerWidget.styles.js","../../../shared/containers/Widgets/Sticker/StickerWidget.js","components/lince/DynaRow.js","components/lince/LinceVideoTool.js"],"names":["forwardRef","props","ref","_useState","useState","_useState2","_slicedToArray","originalSize","setOriginalSize","canvasRef","useRef","videoPlaybackRef","model","PoseDetector","MoveNet","keypointIndices","getKeypointIndexBySide","adjacentPairs","getAdjacentPairs","videoSource","useImperativeHandle","doPlayScene","time","current","onReadyState","getCurrentTime","React","createElement","VideoPlayback","style","position","top","left","right","zIndex","setCanvas","canvas","controlsEnabled","width","setOriginalVideoSize","BlazePose","backend","runtime","type","modelType","SINGLEPOSE_THUNDER","maxPoses","flipHorizontal","loader","MoveNetLoader","onPoseEstimate","pose","ctx","getContext","clearRect","height","drawPose","Alerts","styled","_Alert","_templateObject","_taggedTemplateLiteral","palette","WithDirection","marginBot","marginBottom","InfoMessageBox","_ref","text","icon","fontColor","bgColor","StickerWidget","Fragment","messageBox","WarningMessageBox","_ref2","description","Alert","message","showIcon","ReactGA","initialize","siteConfig","google","analyticsKey","pageview","window","location","pathname","search","AIStudioApp","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","state","date","Date","tool","video","linceTool","createRef","linceRegister","innerPlayer","_doRegisterPlay","bind","_assertThisInitialized","_doSave","renderVideoComponent","_createClass","key","value","this","fetchVideos","o","videoTime","loadSceneData","remoteSave","videos","firstVideo","length","isReactLocalDevelopment","RegexConfig","hasSourceURLPort","baseUrl","regexConfig","isYoutubeVideo","url","Box","title","ContentHolder","IntlMessages","id","VideoAI","Provider","store","_Layout","PageHeader","_Row","_Col","md","paddingBottom","display","StyledResizable","defaultSize","minWidth","minHeight","span","LinceRegister","onPlayRegister","LinceVideoTool","onSave","Component","connect","lince","LayoutContentWrapper","div","LayoutContentStyle","ComponentName","AntButton","_Button","transition","isoButton","AntButtonGroup","_templateObject3","ButtonsGroup","Group","BoxWrapper","Object","assign","className","concat","children","BoxTitle","h3","BoxSubTitle","p","_templateObject2","subtitle","WDComponentTitleWrapper","h1","ComponentTitleWrapper","BoxTitleWrapper","WDContentHolderWrapper","ContentHolderWrapper","isHTML","RegExp","prototype","test","console","log","apiUrl","i18n","use","Backend","LanguageDetector","initReactI18next","init","preload","initImmediate","load","detection","lookupQuerystring","fallbackLng","default","debug","react","wait","bindI18n","interpolation","escapeValue","borderRight","margin","Resizable","saveActionKey","playKey","pauseKey","stopKey","videoResizeFullKey","videoResizeHalfKey","videoResizeThirdKey","normalSpeedKey","halfSpeedKey","jumpBackKey","jumpForwardKey","leftKey","rightKey","selected","timeOutEvent","scheduleClearSelection","_deleteScene","_playScene","_this2","clearTimeout","setState","setTimeout","selectRegisterId","deleteRegister","moment","row","forceUpdate","fetchTool","fetchRegister","_isMounted","_this3","columns","name","Trans","i18nKey","sortable","cell","onClick","selector","format","d","UserSeconds","hide","fullMode","forEach","v","currentId","push","code","register","currentRegister","parent","nodeInformation","substring","Moment","parse","saveDate","selectedId","conditionalRowStyles","when","backgroundColor","color","cursor","DataTable","noHeader","dense","fixedHeader","data","defaultSortField","defaultProps","ConnectedLinceRegister","activeRegister","myForwardedRef","StickerWidgetWrapper","borderRadius","number","textColor","widgetStyle","iconStyle","DynaRow","iterate","Array","isArray","size","map","i","index","sm","xs","lg","now","customColor","Meta","_Card","Panel","_Collapse","LinceCollapse","LincePanelWrapper","CategoryButton","active","_doSelect","setStatusTo","isActive","cat","onSelect","category","b","addClass","overText","href","data-code","data-id","data-group","viewBox","x","y","_Component2","_super2","canSave","registerId","categories","nonCollapsed","_onSelectCategory","_handleCollapse","_renderCriteria","_unselectNotChosen","getToolState","setTime","_this4","informationNode","inputValue","refs","innerCategories","k","e","aux","saveRegister","_unselectNotPersistence","_this5","t","setCurrentSceneId","_this6","clearInputs","status","elem","_defineProperty","_this7","forceAll","arguments","undefined","persistence","target","_this8","buttonIsSet","_this9","hasBeenChange","crit","rows","rowSize","catContainer","slice","splice","_this10","placeholder","rowItem","_splitInnerCategories","innerButtonRow","_renderButtonRows","persistancePin","justify","marginTop","innerButtons","item","keyboardConfig","showSuccess","toolDataRender","_this11","toolData","collapseActions","collapseSize","arrkeys","defaultActiveKey","activeKey","onChange","panelKey","header","_renderCollapsableCriteria","menu","_Menu","Item","Button","_Dropdown","overlay","preventDefault","DownOutlined","scrollbarStyles","KeyboardEventHandler","handleKeys","keyboard","onKeyEvent","_keyboardActions","LayoutContent","aria-hidden","paddingLeft","ScrollArea","speed","contentClassName","horizontal","verticalScrollbarStyle","verticalContainerStyle","smoothScrolling"],"mappings":"6ZAoFeA,I,EAAAA,wBAhFf,SAAiBC,EAAOC,GACpB,IAAAC,EAAwCC,mBAAS,MAAKC,EAAAC,YAAAH,EAAA,GAA/CI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GAC9BI,EAAYC,iBAAO,MACnBC,EAAmBD,iBAAO,MAC1BE,EAAQC,IAA6BC,QACrCC,EAAkBF,IAAkBG,uBAAuBJ,GAC3DK,EAAgBJ,IAAkBK,iBAAiBN,GASlDO,EAAelB,EAAfkB,YA4CP,OA1CAC,8BAAoBlB,GAAK,iBAAO,CAC5BmB,YAAa,SAACC,GACNA,GAAQA,EAAO,GACfX,EAAiBY,QAAQC,cACrB,WACIb,EAAiBY,QAAQF,YAAYC,OAKrDG,eAAgB,WACZ,OAAOd,EAAiBY,QAAQE,qBAEpC,IA6BAN,EAEIO,IAAAC,cAACC,IAAa,CAACC,MAtDT,CACVC,SAAU,WACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,GAiDyBf,YAAaA,EAAajB,IAAKS,EAC7CwB,UARL,SAACC,GACf3B,EAAUc,QAAUa,GAOqBC,iBAAiB,EAAMC,MAAO,IACpDC,qBAAsB/B,GACjCkB,IAAAC,cAACa,IAAS,CACNC,QAAQ,QACRC,QAAQ,OACRC,KAAM9B,IAAqB+B,UAAUC,mBACrCC,SAAU,EACVC,gBAAgB,EAChBC,OAAQC,IACRC,eArCO,SAACC,GACpB,IAAMC,EAAM3C,EAAUc,QAAQ8B,WAAW,MACnCjB,EAAS3B,EAAUc,QAMzB6B,EAAIE,UAAU,EAAG,EAAGlB,EAAOE,MAAOF,EAAOmB,QAEzCC,YAASL,EACLpC,EACAE,EACAmC,EACA,CAACd,MAAOF,EAAOE,MAAOiB,OAAQnB,EAAOmB,QACrChD,OA0BGmB,IAAAC,cAAA,WAAK,c,oHCxEd8B,EAASC,mBAFE,SAAAzD,GAAK,OAAIyB,IAAAC,cAAAgC,IAAW1D,KAEtByD,CAAgBE,MAAAC,YAAA,swBAElBC,kBAAQ,OAAQ,GAMdA,kBAAQ,UAAW,GAMnBA,kBAAQ,QAAS,IAKjB,SAAA7D,GAAK,MACQ,QAAtBA,EAAM,YACF,sBACA,wBAGK6D,kBAAQ,OAAQ,GAIhBA,kBAAQ,OAAQ,IAMjB,SAAA7D,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,UAAY,UACnD,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,OAAS,aAG/C,SAAAA,GAAK,MACQ,QAAtBA,EAAM,YACF,sBACA,yBAGG,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,UAAY,UACrD,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,OAAS,aAIhD,SAAAA,GAAK,MACQ,QAAtBA,EAAM,YACF,sBACA,yBAGG,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,UAAY,UACrD,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,OAAS,aC9D9CwD,EDkEAM,YAAcN,GEhEvBO,EAAY,CACdC,aAAc,QAYX,SAASC,EAAcC,GAC1B,OATJ,SAAoBC,EAAMC,EAAMC,EAAWC,GACvC,OAAO7C,IAAAC,cAAC6C,IAAa,CAACJ,KAAM1C,IAAAC,cAAAD,IAAA+C,SAAA,KAAGL,GACTC,KAAMA,EACNC,UAAWA,EACXC,QAASA,IAKxBG,CADyBP,EAAJC,KAAUD,EAAJE,KACJ,UAAW,WAGtC,SAASM,EAAiBC,GAAuB,IAArBR,EAAIQ,EAAJR,KAAMS,EAAWD,EAAXC,YAErC,OAAOnD,IAAAC,cAACmD,EAAK,CACTC,QAASX,EACTS,YAAaA,EACblC,KAAK,UACLqC,UAAQ,EAGRnD,MAAOmC,ICRfiB,IAAQC,WAAWC,IAAWC,OAAOC,cACrCJ,IAAQK,SAASC,OAAOC,SAASC,SAAWF,OAAOC,SAASE,QAAQ,IAE9DC,EAAW,SAAAC,GAAAC,YAAAF,EAAAC,GAAA,IAAAE,EAAAC,YAAAJ,GAEb,SAAAA,EAAY1F,GAAQ,IAAD+F,EAYkD,OAZlDC,YAAA,KAAAN,IACfK,EAAAF,EAAAI,KAAA,KAAMjG,IACDkG,MAAQ,CACTC,KAAM,IAAIC,KACVC,KAAM,GACNC,MAAO,iBAEXP,EAAKQ,UAAYC,sBACjBT,EAAKU,cAAgBD,sBACrBT,EAAKW,YAAcF,sBACnBT,EAAKY,gBAAkBZ,EAAKY,gBAAgBC,KAAIC,YAAAd,IAChDA,EAAKe,QAAUf,EAAKe,QAAQF,KAAIC,YAAAd,IAChCA,EAAKgB,qBAAuBhB,EAAKgB,qBAAqBH,KAAIC,YAAAd,IAAOA,EAsFpE,OArFAiB,YAAAtB,EAAA,EAAAuB,IAAA,oBAAAC,MAED,WACIC,KAAKnH,MAAMoH,gBACd,CAAAH,IAAA,kBAAAC,MAED,SAAgBG,GACRA,GAAKA,EAAEC,YACPH,KAAKZ,UAAUjF,QAAQiG,cAAcF,GACrCF,KAAKT,YAAYpF,QAAQF,YAAYiG,EAAEC,cAE9C,CAAAL,IAAA,UAAAC,MAED,WACI,IAAI7F,EAAO8F,KAAKT,YAAYpF,QAAQE,iBACpC2F,KAAKZ,UAAUjF,QAAQkG,WAAWnG,KAGtC,CAAA4F,IAAA,uBAAAC,MAOA,SAAqBO,GACjB,IAAMC,EAAaD,GAAUA,EAAOE,OAAS,EAAIF,EAAO,GAAK,KACvDG,EAA0BC,IAAYC,iBAAiBC,KAC7D,OAAKL,EAODM,IAAYC,eAAeP,EAAWQ,KAC/BzG,IAAAC,cAACyG,IAAG,CAACC,MAAO,gBACf3G,IAAAC,cAAC2G,IAAa,KACV5G,IAAAC,cAACgD,EAAiB,CAACP,KAAM1C,IAAAC,cAAC4G,IAAY,CAACC,GAAG,eAAgBnE,KAAM,eAIxEwD,EACOnG,IAAAC,cAAC8G,EAAO,CAACvI,IAAKkH,KAAKT,YAAaxF,YAAa,kBAEhDwG,GAAcA,EAAWQ,IAClBzG,IAAAC,cAAC8G,EAAO,CAACvI,IAAKkH,KAAKT,YAAaxF,YAAa6G,IAAUL,EAAWQ,WAD7E,EAhBOzG,IAAAC,cAACyG,IAAG,CAACC,MAAO,gBACf3G,IAAAC,cAAC2G,IAAa,KACV5G,IAAAC,cAACgD,EAAiB,CAACP,KAAM1C,IAAAC,cAAC4G,IAAY,CAACC,GAAG,6BAA8BnE,KAAM,iBAkB7F,CAAA6C,IAAA,SAAAC,MAED,WACI,OACIzF,IAAAC,cAAC+G,IAAQ,CAACC,MAAOA,KACbjH,IAAAC,cAAAiH,IAAA,KACIlH,IAAAC,cAACkH,IAAU,KAACnH,IAAAC,cAAC4G,IAAY,CAACC,GAAG,qBAC7B9G,IAAAC,cAAAmH,IAAA,KACIpH,IAAAC,cAAAoH,IAAA,CAAKC,GAAI,GAAInH,MAAO,CAACoH,cAAe,QAChCvH,IAAAC,cAACuC,EAAc,CAACE,KAAM1C,IAAAC,cAAAD,IAAA+C,SAAA,KAClB/C,IAAAC,cAAC4G,IAAY,CAACC,GAAG,wBAAuB,IACxC9G,IAAAC,cAAC4G,IAAY,CAACC,GAAG,uBAChBnE,KAAM,eAGnB3C,IAAAC,cAAA,OAAKE,MAAO,CAACqH,QAAS,OAAQ5G,MAAO,OAAQiB,OAAQ,SACjD7B,IAAAC,cAACwH,IAAe,CAACC,YAAa,CAAC9G,MAAO,MAAOiB,OAAQ,QAAS8F,SAAS,MAAMC,UAAU,OACnF5H,IAAAC,cAAAmH,IAAA,CAAKjH,MAAO,CAACyH,UAAW,UACpB5H,IAAAC,cAAAoH,IAAA,CAAKQ,KAAM,GAAI1H,MAAO,CAAC0B,OAAQ,SAC1B6D,KAAKJ,qBAAqBI,KAAKnH,MAAMyH,UAG9ChG,IAAAC,cAAAmH,IAAA,KACIpH,IAAAC,cAAAoH,IAAA,CAAKQ,KAAM,IACP7H,IAAAC,cAAC6H,IAAa,CAACtJ,IAAKkH,KAAKV,cAAe+C,eAAgBrC,KAAKR,qBAIzElF,IAAAC,cAAA,OAAKE,MAAO,CAACS,MAAO,SAChBZ,IAAAC,cAAC+H,IAAc,CAACxJ,IAAKkH,KAAKZ,UAAWF,KAAMc,KAAKjB,MAAMG,KAAMqD,OAAQvC,KAAKL,kBAOhGpB,EApGY,CAASiE,aA8GXC,uBAHS,SAAA1D,GAAK,MAAK,CAC9BuB,OAAQvB,EAAM2D,MAAMpC,UAEgB,CAACL,iBAAc,KAAM,CAACrH,YAAY,GAA3D6J,CAAkElE,I,iFCrI3EoE,E,MAAuBrG,QAAOsG,IAAGpG,MAAAC,YAAA,0O,+DCSxBoG,EARYvG,UAAOsG,IAAGpG,MAAAC,YAAA,oHAIfC,kBAAQ,SAAU,ICLzBmG,O,gDCECC,E,mDCDVC,GDCUD,ECDSE,IDCQ1G,kBAAOwG,EAAPxG,CAAqBE,MAAAC,YAAA,q9HAsBzCC,kBAAQ,OAAQ,GACTA,kBAAQ,SAAU,GAChCuG,cAGgBvG,kBAAQ,UAAW,GAC1BA,kBAAQ,UAAW,IAKlB,SAAA7D,GAAK,MACS,QAAtBA,EAAM,YAAwB,cAAgB,iBAInC,SAAAA,GAAK,MACM,QAAtBA,EAAM,YAAwB,iBAAmB,eAItC,SAAAA,GAAK,MACM,QAAtBA,EAAM,YAAwB,iBAAmB,cAI/B6D,kBAAQ,UAAW,GACvBA,kBAAQ,UAAW,GAGbA,kBAAQ,UAAW,IACvBA,kBAAQ,UAAW,KAWxB,SAAA7D,GAAK,MACQ,QAAtBA,EAAM,YAAwB,gBAAkB,mBAEtC,SAAAA,GAAK,MACS,QAAtBA,EAAM,YAAwB,cAAgB,gBAiBpC6D,kBAAQ,SAAU,GAGvBA,kBAAQ,UAAW,GACZA,kBAAQ,UAAW,GAKjBA,kBAAQ,QAAS,GACrBA,kBAAQ,QAAS,GAIXA,kBAAQ,QAAS,GACrBA,kBAAQ,QAAS,GAIxBA,kBAAQ,QAAS,GAEVA,kBAAQ,QAAS,GAGtBA,kBAAQ,QAAS,GACVA,kBAAQ,QAAS,GAsC5BA,kBAAQ,YAAa,GAEdA,kBAAQ,SAAU,IAMxB,SAAA7D,GAAK,MACS,QAAtBA,EAAM,YAAwB,cAAgB,gBAyB5B6D,kBAAQ,UAAW,GACrCuG,cAGoBvG,kBAAQ,UAAW,IAkB5B,SAAA7D,GAAK,MACI,QAAtBA,EAAM,YAAwB,IAAM,UACtB,SAAAA,GAAK,MACG,QAAtBA,EAAM,YAAwB,OAAS,QC/MvCqK,EAAYvG,YAAcoG,GAC1BI,ED0Oe,SAAAL,GAAa,OAAIxG,kBAAOwG,EAAPxG,CAAqB8G,MAAA3G,YAAA,68DAcrCC,kBAAQ,SAAU,GAYhCuG,cAGgBvG,kBAAQ,UAAW,GAOjBA,kBAAQ,UAAW,GAKrBA,kBAAQ,UAAW,GAGjBA,kBAAQ,UAAW,KAMtB,SAAA7D,GAAK,MACE,QAAtBA,EAAM,YAAwB,cAAgB,iBAI/B,SAAAA,GAAK,MACE,QAAtBA,EAAM,YAAwB,cAAgB,iBAK3B,SAAAA,GAAK,MACF,QAAtBA,EAAM,YACF6D,kBAAQ,UAAW,GACnBA,kBAAQ,UAAW,MACH,SAAA7D,GAAK,MACH,QAAtBA,EAAM,YACF6D,kBAAQ,UAAW,GACnBA,kBAAQ,UAAW,MAIJ,SAAA7D,GAAK,MACF,QAAtBA,EAAM,YACF6D,kBAAQ,UAAW,GACnBA,kBAAQ,UAAW,MACH,SAAA7D,GAAK,MACH,QAAtBA,EAAM,YACF6D,kBAAQ,UAAW,GACnBA,kBAAQ,UAAW,MAKV,SAAA7D,GAAK,MACI,QAAtBA,EAAM,YAAwB,IAAM,UACtB,SAAAA,GAAK,MACG,QAAtBA,EAAM,YAAwB,OAAS,OAqB5B,SAAAA,GAAK,MACI,QAAtBA,EAAM,YAAwB,IAAM,UACtB,SAAAA,GAAK,MACG,QAAtBA,EAAM,YAAwB,OAAS,OCzVtBwK,CAAaL,IAAOM,OACvB3G,YAAcwG,GAEnBD,O,iGCLTK,EAAajH,UAAOsG,IAAGpG,MAAAC,YAAA,0XAKPC,kBAAQ,SAAU,GASlC,K,iCCjBN,6BAGe,aAAA7D,GAAK,OAClByB,IAAAC,cAACoI,IAAoBa,OAAAC,OAAA,CACnBC,UACqB,MAAnB7K,EAAM6K,UAAiB,GAAAC,OAChB9K,EAAM6K,UAAS,4BAClB,2BAEF7K,GAEHA,EAAM+K,Y,iFCTLC,EAAWvH,UAAOwH,GAAEtH,MAAAC,YAAA,sGAGfC,kBAAQ,OAAQ,IAKrBqH,EAAczH,UAAO0H,EAACC,MAAAxH,YAAA,uFAGjBC,kBAAQ,OAAQ,ICXZ,aAAA7D,GACb,OACEyB,IAAAC,cAAA,WACG1B,EAAMoI,MACL3G,IAAAC,cAACsJ,EAAQ,CAACH,UAAU,eAAc,IAAE7K,EAAMoI,MAAM,KAEhD,GAEDpI,EAAMqL,SACL5J,IAAAC,cAACwJ,EAAW,CAACL,UAAU,kBAAiB,IAAE7K,EAAMqL,SAAS,KAEzD,M,wFCXFC,EAA0B7H,UAAO8H,GAAE5H,MAAAC,YAAA,gkBAG9BC,kBAAQ,YAAa,GAiBRA,kBAAQ,YAAa,IAE/B,SAAA7D,GAAK,MACS,QAAtBA,EAAM,YAAwB,aAAe,eAO3B6D,kBAAQ,YAAa,IAE/B,SAAA7D,GAAK,MACS,QAAtBA,EAAM,YAAwB,aAAe,gBAI7CwL,EAAwB1H,YAAcwH,GCrC7B,aAAAtL,GAAK,OAClByB,IAAAC,cAAC8J,EAAqB,CAACX,UAAU,qBAC9B7K,EAAM+K,Y,iCCLX,sCAIe,aAAA/K,GAAK,OAClByB,IAAAC,cAACgJ,IAAU,CACTG,UAAS,GAAAC,OAAK9K,EAAM6K,UAAY7K,EAAM6K,UAAY,GAAE,kBACpDjJ,MAAO5B,EAAM4B,OAEbH,IAAAC,cAAC+J,IAAe,CAACrD,MAAOpI,EAAMoI,MAAOiD,SAAUrL,EAAMqL,WACpDrL,EAAM+K,Y,wFCPLW,EAAyBjI,UAAOsG,IAAGpG,MAAAC,YAAA,4lDAKrB,SAAA5D,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,IAAM,UAC/C,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,OAAS,OAK/C,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,IAAM,UAC7C,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,OAAS,OAMxD,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,QAAU,UAK5C,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,IAAM,WAC7C,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,QAAU,OAInD,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,IAAM,UAC7C,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,OAAS,OAMlD,SAAAA,GAAK,MACI,QAAtBA,EAAM,YAAwB,MAAQ,kBAExB,SAAAA,GAAK,MACG,QAAtBA,EAAM,YAAwB,eAAiB,SAMjC,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,IAAM,SAC/C,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,MAAQ,MAyBnD6D,kBAAQ,YAAa,IACnB,SAAA7D,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,OAAS,SAClD,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,MAAQ,OAO7C,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,IAAM,UAC/C,SAAAA,GAAK,MAA2B,QAAtBA,EAAM,YAAwB,OAAS,OAG9C,SAAAA,GAAK,OAAKA,EAAM,YAAwB,OACzC,SAAAA,GAAK,OAAKA,EAAM,YAAwB,OAWzD2L,EAAuB7H,YAAc4H,GChG5B,aAAA1L,GAAK,OAClByB,IAAAC,cAACiK,EAAoB,CAACd,UAAU,oBAAoBjJ,MAAO5B,EAAM4B,OAC9D5B,EAAM+K,Y,uDCHI,KACXa,OAAQC,OAAOC,UAAUC,KAAKnF,KAAK,gBACnCkB,iBAAkB+D,OAAOC,UAAUC,KAAKnF,KAAK,iCAC7CgB,wBAAyB,WAEtB,OADCoE,QAAQC,IAAI,gBAADnB,OAAiBoB,MACtBnG,EAAK+B,iBAAiBoE,MAEhCjE,eAAgB4D,OAAOC,UAAUC,KAAKnF,KAAK,kI,iCCT/C,yCAKAuF,IAGKC,IAAIC,KAGJD,IAAIE,KAEJF,IAAIG,KAGJC,KAAK,CACFC,QAAS,CAAC,KAAM,KAAM,MACtBC,eAAc,EAGdC,KAAM,eACNC,UAAW,CACPC,kBAAmB,QAEvBC,YAAa,CACT,QAAS,CAAC,MACV,QAAS,CAAC,MACV,QAAS,CAAC,MACVC,QAAS,CAAC,OAGdC,OAAO,EACPC,MAAO,CACHC,MAAM,EACNC,SAAU,0BAEdC,cAAe,CACXC,aAAa,KAIVlB,EAAI,G,iCC1CnB,+DAEMvK,EAAQ,CACVK,OAAO,iBACPqL,YAAa,iBACbC,OAAQ,aAEG,SAASrE,EAAgBlJ,GACpC,OAAOyB,IAAAC,cAAC8L,IAAS7C,OAAAC,OAAA,GAAK5K,EAAK,CAAE4B,MAAOA,O,iCCPzB,KACX6L,cAAe,IACfC,QAAS,IACTC,SAAU,IACVC,QAAS,IACTC,mBAAoB,IACpBC,mBAAoB,IACpBC,oBAAqB,IACrBC,eAAgB,IAChBC,aAAc,IACdC,YAAa,IACbC,eAAgB,IAGhBC,QAAS,IACTC,SAAU,M,0KCPR9E,EAAa,SAAA5D,GAAAC,YAAA2D,EAAA5D,GAAA,IAAAE,EAAAC,YAAAyD,GAEf,SAAAA,EAAYvJ,GAAQ,IAAD+F,EAK8B,OAL9BC,YAAA,KAAAuD,IACfxD,EAAAF,EAAAI,KAAA,KAAMjG,IACDkG,MAAQ,CAACoI,SAAU,KAAMC,aAAc,MAC5CxI,EAAKyI,uBAAyBzI,EAAKyI,uBAAuB5H,KAAIC,YAAAd,IAC9DA,EAAK0I,aAAe1I,EAAK0I,aAAa7H,KAAIC,YAAAd,IAC1CA,EAAK2I,WAAa3I,EAAK2I,WAAW9H,KAAIC,YAAAd,IAAOA,EA+HhD,OA9HAiB,YAAAuC,EAAA,EAAAtC,IAAA,yBAAAC,MAED,WAA0B,IAADyH,EAAA,KAEjBxH,KAAKjB,MAAMqI,cACXK,aAAazH,KAAKjB,MAAMqI,cAE5BpH,KAAK0H,SAAS,CACVN,aAAcO,YAAW,WACrBH,EAAKE,SAAS,CAACP,SAAU,OACzBK,EAAK3O,MAAM+O,iBAAiB,QAC7B,SAEV,CAAA9H,IAAA,eAAAC,MAED,SAAaG,GACTF,KAAKnH,MAAMgP,eAAe,CAACC,OAAQ5H,EAAE6H,IAAI5H,UAAWiB,GAAIlB,EAAE6H,IAAI3G,OACjE,CAAAtB,IAAA,aAAAC,MAED,SAAWG,GAGPF,KAAK0H,SAAS,CAACP,SAAUjH,EAAE6H,IAAI3G,KAC/BpB,KAAKnH,MAAM+O,iBAAiB1H,EAAE6H,IAAI3G,IAClCpB,KAAKnH,MAAMwJ,eAAenC,EAAE6H,KAC5B/H,KAAKgI,cACLhI,KAAKqH,2BACR,CAAAvH,IAAA,oBAAAC,MAGD,WACIC,KAAKnH,MAAMoP,YACXjI,KAAKnH,MAAMqP,gBACXlI,KAAKmI,YAAa,IACrB,CAAArI,IAAA,SAAAC,MAED,WAAU,IAADqI,EAAA,KAEDC,EAAU,CACV,CACIC,KAAMhO,IAAAC,cAAA,YAAMD,IAAAC,cAAA,KAAGmJ,UAAU,wBAAuB,OAAMpJ,IAAAC,cAACgO,IAAK,CAACC,QAAQ,UAAS,WAC9EC,UAAU,EACVxG,SAAU,QACVyG,KAAM,SAAAX,GACF,OAAOzN,IAAAC,cAAA,WACHD,IAAAC,cAAA,UAAQgB,KAAK,SAASmI,UAAU,wBACxBiF,QAAS,kBAAMP,EAAKb,WAAW,CAACQ,UACpCzN,IAAAC,cAAA,KAAGmJ,UAAU,gBAAe,QACvB,WAETpJ,IAAAC,cAAA,UAAQgB,KAAK,SAASmI,UAAU,2BACxBiF,QAAS,kBAAMP,EAAKd,aAAa,CAACS,UACtCzN,IAAAC,cAAA,KAAGmJ,UAAU,sBAI1B,CACC4E,KAAMhO,IAAAC,cAAA,YAAMD,IAAAC,cAAA,KAAGmJ,UAAU,sBAAqB,WAC9CkF,SAAU,YAAaH,UAAU,EAAMI,OAAQ,SAAAC,GAC3C,OAAOC,YAAYD,EAAE3I,aAE1B,CACCmI,KAAMhO,IAAAC,cAAA,YAAMD,IAAAC,cAAA,KAAGmJ,UAAU,qBAAoB,UAC7CsF,KAAM,KACNJ,SAAU,SAAUH,UAAU,IAElCzI,KAAKnH,MAAMoQ,UACXjJ,KAAKnH,MAAMqG,KAAKgK,SAAQ,SAAAC,GACpB,IAAMC,EAAYD,EAAE/H,GACpBiH,EAAQgB,KAAK,CACTf,KAAMhO,IAAAC,cAAA,YAAO4O,EAAEG,MAGfZ,KAAM,SAAAX,GACF,IAAIhI,EAAQ,GAaZ,OAZAgI,EAAIwB,SAASL,SAAQ,SAAAM,GACbA,EAAgBC,SAAWL,IACa,OAApCI,EAAgBE,iBAChB3J,EAAQyJ,EAAgBE,gBAAgBC,UAAU,EAAG,IACjDH,EAAgBE,gBAAgBlJ,OAAS,KACzCT,GAAS,QAGbA,EAAQyJ,EAAgBF,SAI7BhP,IAAAC,cAAA,YAAOwF,SAK9BsI,EAAQgB,KAAK,CACTf,KAAMhO,IAAAC,cAAA,YAAMD,IAAAC,cAAA,KAAGmJ,UAAU,2BAA0B,OAAMpJ,IAAAC,cAACgO,IAAK,CAACC,QAAQ,QAAO,SAC/EQ,KAAM,KACNP,UAAU,EACVG,SAAU,WACVF,KAAM,SAACX,GACH,OAAOzN,IAAAC,cAACqP,IAAM,CAACf,OAAO,iBAAiBgB,MAAM,sBAC9B7K,KAAM+I,EAAI+B,cAIjC,IAAMC,EAAa/J,KAAKjB,MAAQiB,KAAKjB,MAAMoI,UAAY,EACjD6C,EAAuB,CACzB,CACIC,KAAM,SAAAlC,GAAG,OAAIA,EAAI3G,KAAO2I,GACxBtP,MAAO,CACHyP,gBAAiB,yBACjBC,MAAO,QACP,UAAW,CACPC,OAAQ,cAKxB,OACI9P,IAAAC,cAAC8P,IAAS,CAACC,UAAQ,EAACC,OAAK,EAACC,aAAW,EAE1BR,qBAAsBA,EAEtB3B,QAASA,EACToC,KAAMzK,KAAKnH,MAAM0Q,SACjBmB,iBAAiB,kBAGnCtI,EAtIc,CAASI,aAoJ5BJ,EAAcuI,aAAe,CACzB1B,UAAU,GAOd,IAKM2B,EAAyBnI,aALP,SAAAlB,GAAK,MAAK,CAC9BrC,KAAMqC,EAAMmB,MAAMxD,KAClB2L,eAAgBtJ,EAAMmB,MAAMmI,eAC5BtB,SAAUhI,EAAMmB,MAAM6G,YAE8B,CACpDrB,cAAeA,IACfD,UAAWA,IACXL,iBAAkBA,IAClBC,eAAgBA,KACjB,KAAM,CAACjP,YAAY,GALS6J,CAKFL,GACdxJ,0BAAW,SAACC,EAAOC,GAAG,OACjCwB,IAAAC,cAACqQ,EAAsBpH,OAAAC,OAAA,GAAK5K,EAAK,CAAEiS,eAAgBhS,S,gFC9KjDiS,EAAuBzO,UAAOsG,IAAGpG,MAAAC,YAAA,isBAKnCuO,YAAa,QCLF,aAAAjO,GAA6D,IAAlDG,EAASH,EAATG,UAAWC,EAAOJ,EAAPI,QAASjC,EAAK6B,EAAL7B,MAAO+B,EAAIF,EAAJE,KAAMgO,EAAMlO,EAANkO,OAAQjO,EAAID,EAAJC,KAC3DkO,EAAY,CAChBf,MAAOjN,GAEHiO,EAAc,CAClBjB,gBAAiB/M,EACjBjC,MAAOA,GAEHkQ,EAAY,CAChBjB,MAAOjN,GAGT,OACE5C,IAAAC,cAACwQ,EAAoB,CAACrH,UAAU,mBAAmBjJ,MAAO0Q,GACxD7Q,IAAAC,cAAA,OAAKmJ,UAAU,kBACbpJ,IAAAC,cAAA,KAAGmJ,UAAWzG,EAAMxC,MAAO2Q,KAG7B9Q,IAAAC,cAAA,OAAKmJ,UAAU,qBACbpJ,IAAAC,cAAA,MAAImJ,UAAU,gBAAgBjJ,MAAOyQ,GAClCD,GAEH3Q,IAAAC,cAAA,QAAMmJ,UAAU,WAAWjJ,MAAOyQ,GAC/BlO,O,kSCFIqO,EAdCzS,sBAAW,SAACC,EAAOC,GAC/B,IAAMwS,EAAUC,MAAMC,QAAQ3S,EAAM+K,UAC9B6H,EAAOH,EAAS,GAAKzS,EAAM+K,SAASpD,OAAU,GAAG,GACvD,OACIlG,IAAAC,cAAAmH,IAAA,CAAK5I,IAAKA,GACLwS,EAAUzS,EAAM+K,SAAS8H,KAAI,SAACC,EAAGC,GAC9B,OAAOtR,IAAAC,cAAAoH,IAAA,CAAKC,GAAI6J,EAAMI,GAAIJ,EAAMK,GAAIL,EAAMM,GAAIN,EAAM3L,IAAG,WAAA6D,OAAaiI,EAAK,KAAAjI,OAAI1E,KAAK+M,QAC7EL,MAEJrR,IAAAC,cAAAoH,IAAA,CAAKC,GAAI6J,EAAMI,GAAIJ,EAAMK,GAAIL,EAAMM,GAAIN,GAAO5S,EAAM+K,c,yFCK/DqI,EACS,QADTA,EAEO,UAGNC,EAAIC,IAAJD,KACAE,EAAKC,IAALD,MACDE,EAAgBhQ,kBAAM+P,IAAN/P,CAAgBE,MAAAC,YAAA,oKAShC8P,EAAoBjQ,kBAAOqG,IAAPrG,CAA4B2H,MAAAxH,YAAA,m7BAiBpCwP,EACLA,EAIAA,EAyBKA,EAKNA,GAINO,EAAc,SAAAhO,GAAAC,YAAA+N,EAAAhO,GAAA,IAAAE,EAAAC,YAAA6N,GAEhB,SAAAA,EAAY3T,GAAQ,IAAD+F,EAK0B,OAL1BC,YAAA,KAAA2N,IACf5N,EAAAF,EAAAI,KAAA,KAAMjG,IACDkG,MAAQ,CAAC0N,QAAQ,GACtB7N,EAAK8N,UAAY9N,EAAK8N,UAAUjN,KAAIC,YAAAd,IACpCA,EAAK+N,YAAc/N,EAAK+N,YAAYlN,KAAIC,YAAAd,IACxCA,EAAKgO,SAAWhO,EAAKgO,SAASnN,KAAIC,YAAAd,IAAOA,EAmC5C,OAlCAiB,YAAA2M,EAAA,EAAA1M,IAAA,YAAAC,MAED,SAAU8M,GAEN7M,KAAKnH,MAAMiU,SAAS9M,KAAKnH,MAAMkU,YAClC,CAAAjN,IAAA,cAAAC,MAED,SAAYiN,GACRhN,KAAK0H,SAAS,CAAC+E,OAAQO,MAC1B,CAAAlN,IAAA,WAAAC,MAED,WACI,OAAOC,KAAKjB,MAAM0N,SACrB,CAAA3M,IAAA,SAAAC,MAED,WAAU,IAADyH,EAAA,KACCqF,EAAM7M,KAAKnH,MAAMkU,SAEjBE,EADY,8BAAgCJ,EAAIpD,QACxBzJ,KAAKjB,MAAM0N,OAAS,0CAA4C,IACxFS,EAAWL,EAAIvE,MAAQuE,EAAIpP,YAAc,KAAOoP,EAAIpP,YAAc,IACxE,OACInD,IAAAC,cAAA,OAAKmJ,UAAWuJ,GACZ3S,IAAAC,cAAA,KAAGuF,IAAK+M,EAAIzL,GAAIsC,UAAWuJ,EAAUtE,QAAS,SAACkE,GAAG,OAAKrF,EAAKkF,UAAUG,IAEnE5L,MAAOiM,EACPC,KAAI,IAAAxJ,OAAMkJ,EAAIzL,IACdgM,YAAWP,EAAIvD,KAAM+D,UAASR,EAAIzL,GAAIkM,aAAYT,EAAIvE,KAAM7N,MAAO,CAACS,MAAO,SAC1EZ,IAAAC,cAAA,OAAKgT,QAAQ,YAAYrS,MAAM,OAAOiB,OAAO,MACzC7B,IAAAC,cAAA,QAAMiT,EAAE,IAAIC,EAAE,MAAMZ,EAAIvD,aAM3CkD,EA1Ce,CAAShK,aAkDvBF,EAAc,SAAAoL,GAAAjP,YAAA6D,EAAAoL,GAAA,IAAAC,EAAAhP,YAAA2D,GAChB,SAAAA,EAAYzJ,GAAQ,IAADuP,EAY4B,OAZ5BvJ,YAAA,KAAAyD,IACf8F,EAAAuF,EAAA7O,KAAA,KAAMjG,IACDkG,MAAQ,CAAC6O,SAAS,EAAOC,WAAY,KAAM/F,OAAQ,GAAKgG,WAAY,GAAIC,aAAc,IAC3F3F,EAAK4F,kBAAoB5F,EAAK4F,kBAAkBvO,KAAIC,YAAA0I,IACpDA,EAAK6F,gBAAkB7F,EAAK6F,gBAAgBxO,KAAIC,YAAA0I,IAEhDA,EAAK8F,gBAAkB9F,EAAK8F,gBAAgBzO,KAAIC,YAAA0I,IAChDA,EAAK+F,mBAAqB/F,EAAK+F,mBAAmB1O,KAAIC,YAAA0I,IACtDA,EAAKhI,cAAgBgI,EAAKhI,cAAcX,KAAIC,YAAA0I,IAC5CA,EAAKgG,aAAehG,EAAKgG,aAAa3O,KAAIC,YAAA0I,IAC1CA,EAAKiG,QAAUjG,EAAKiG,QAAQ5O,KAAIC,YAAA0I,IAChCA,EAAK/H,WAAa+H,EAAK/H,WAAWZ,KAAIC,YAAA0I,IACtCA,EAAK7F,OAAS6F,EAAKvP,MAAM0J,OAAO9C,KAAIC,YAAA0I,IAAOA,EAyW9C,OAtWDvI,YAAAyC,EAAA,EAAAxC,IAAA,aAAAC,MACA,SAAW7F,GAAO,IAADoU,EAAA,KAETR,EAAa,GAEjB9N,KAAKnH,MAAMqG,KAAKgK,SAAQ,SAACC,GACrB,IACI,GAAIA,EAAEoF,gBAAiB,CAEnB,IAAMC,EAAaF,EAAKG,KAAKtF,EAAE/H,GAAK,aAAarB,MACjD+N,EAAWzE,KAAK,CAACjI,GAAI+H,EAAE/H,GAAIkI,KAAMH,EAAEG,KAAO,QAASI,gBAAiB8E,SAEpErF,EAAEuF,gBAAgBxF,SAAQ,SAACyF,GACnBL,EAAKG,KAAKE,EAAEvN,GAAK,MAAQuN,EAAErF,MAAMvK,MAAM0N,QACvCqB,EAAWzE,KAAK,CAACjI,GAAIuN,EAAEvN,GAAIkI,KAAMqF,EAAErF,UAIjD,MAAOsF,GACL/J,QAAQC,IAAI,4BAADnB,OAA6BwF,EAAE/H,GAAE,WAAAuC,OAAUwF,EAAEG,KAAI,YAAA3F,OAAWwF,EAAEb,WAGjFtI,KAAKqO,QAAQnU,GACb8F,KAAK0H,SAAS,CAACoG,WAAYA,IAC3B,IAAIe,EAAM,CACN/G,OAAQ5N,EACR4T,WAAYA,EACZ1M,GAAIpB,KAAKnH,MAAMgS,gBAEnB7K,KAAKnH,MAAMiW,aAAaD,GACxB7O,KAAK+O,4BACR,CAAAjP,IAAA,cAAAC,MAED,WAAe,IAADiP,EAAA,KACVhP,KAAKnH,MAAMqG,KAAKgK,SAAQ,SAAC+F,GACrB,IACQA,EAAEV,kBACFS,EAAKP,KAAKQ,EAAE7N,GAAK,aAAarB,MAAQ,IAE5C,MAAO6O,QAIb5O,KAAKkP,kBAAkB,QAC1B,CAAApP,IAAA,gBAAAC,MAED,SAAc0K,GAAO,IAAD0E,EAAA,KAIhBnP,KAAKoP,cACLpP,KAAK+O,yBAAwB,GAC7BtE,EAAKlB,SAASL,SAAQ,SAACK,GAEnB4F,EAAKtW,MAAMqG,KAAKgK,SAAQ,SAAC+F,GACrB,IACQA,EAAE7N,IAAMmI,EAASE,SAAWwF,EAAE7N,KAC1B6N,EAAEV,gBAGFY,EAAKV,KAAKQ,EAAE7N,GAAK,aAAarB,MAAQwJ,EAASG,gBAG/CuF,EAAEP,gBAAgBxF,SAAQ,SAAC2D,GACvB,IAAMwC,EAAU9F,EAASD,OAASuD,EAAIvD,KAChCgG,EAAOH,EAAKV,KAAK5B,EAAIzL,GAAK,MAAQyL,EAAIvD,MACxCgG,IACAA,EAAK3C,YAAY0C,GACjBF,EAAKzH,SAAQ6H,YAAC,GAAE1C,EAAIpD,OAASoD,EAAIvD,YAKnD,MAAOsF,GACL/J,QAAQC,IAAI,oBAAsB8J,UAI9C5O,KAAKqO,QAAQ5D,EAAKtK,WAClBH,KAAKkP,kBAAkBlP,KAAKnH,MAAMgS,kBACrC,CAAA/K,IAAA,UAAAC,MAED,SAAQ7F,GACJ8F,KAAK0H,SAAS,CAACI,OAAQ5N,MAC1B,CAAA4F,IAAA,oBAAAC,MAED,SAAkBqB,GACdpB,KAAK0H,SAAS,CAACmG,WAAYzM,MAG/B,CAAAtB,IAAA,0BAAAC,MAIA,WAA2C,IAADyP,EAAA,KAAlBC,EAAQC,UAAAlP,OAAA,QAAAmP,IAAAD,UAAA,IAAAA,UAAA,GAC5B1P,KAAKnH,MAAMqG,KAAKgK,SAAQ,SAACC,GAGrB,KAAsB,IAAlBA,EAAEyG,aAAyBH,KAC3BtG,EAAEuF,gBAAgBxF,SAAQ,SAACyF,GACvB,IAAMW,EAAOE,EAAKf,KAAKE,EAAEvN,GAAK,MAAQuN,EAAErF,MACpCgG,GACAA,EAAK3C,aAAY,MAGrBxD,EAAEoF,iBAAiB,CACnB,IAAMe,EAAOE,EAAKf,KAAKtF,EAAE/H,GAAK,aAC1BkO,IACAA,EAAKvP,MAAQ,UAKhC,CAAAD,IAAA,qBAAAC,MAED,SAAmB0J,EAAQoG,GAAS,IAADC,EAAA,KAE3BC,GAAc,EAqBlB,OApBA/P,KAAKnH,MAAMqG,KAAKgK,SAAQ,SAACC,GACjBA,EAAE/H,IAAMqI,IAAWN,EAAE/H,IACrB+H,EAAEuF,gBAAgBxF,SAAQ,SAACyF,GACvB,IAAIU,EAAUQ,IAAWlB,EAAErF,KACvB+F,GAEIS,EAAKrB,KAAKE,EAAEvN,GAAK,MAAQuN,EAAErF,MAAMsD,aAEjCyC,GAAS,EACTU,GAAc,GAGtBD,EAAKrB,KAAKE,EAAEvN,GAAK,MAAQuN,EAAErF,MAAMqD,YAAY0C,SAQlDU,IACV,CAAAjQ,IAAA,oBAAAC,MAED,SAAkB8M,GAAM,IAADmD,EAAA,KAInBhQ,KAAK0H,UAAS,SAAC3I,EAAOlG,GAElB,IAAMoX,EAAgBD,EAAK7B,mBAAmBtB,EAAIpD,OAAQoD,EAAIvD,MAE9D,OAAAiG,YAAA,GAAS1C,EAAIpD,OAASwG,EAAgBpD,EAAIvD,KAAO,OAErDtJ,KAAK0H,SAAS,CAACkG,SAAS,MAC3B,CAAA9N,IAAA,eAAAC,MAED,WACI8E,QAAQC,IAAI9E,KAAKjB,SACpB,CAAAe,IAAA,oBAAAC,MAED,WACIC,KAAKnH,MAAMoP,cAGf,CAAAnI,IAAA,wBAAAC,MAQA,SAAsBmQ,GAOlB,IANA,IAAIC,EAAO,GAAI1E,EAAOzL,KAAKnH,MAAMuX,QAC3BC,EAAeH,EAAKxB,gBAAgB4B,QAKnCD,EAAa7P,OAAS,GACzB2P,EAAK9G,KAAKgH,EAAaE,OAAO,EAAG9E,IAKrC,OAAO0E,IACV,CAAArQ,IAAA,oBAAAC,MAED,SAAkBmQ,EAAMC,GAAO,IAADK,EAAA,KAC1B,OAAIN,EAAK3B,gBACGjU,IAAAC,cAAC8Q,EAAO,KACZ/Q,IAAAC,cAAA,SAAOzB,IAAKoX,EAAK9O,GAAK,YAAatB,IAAKoQ,EAAK9O,GAAK,YAAasC,UAAW,aACnE+M,YAAY,gBAGfnW,IAAAC,cAAAD,IAAA+C,SAAA,KACA8S,EAAKzE,KAAI,SAACgF,EAAS9E,GACf,OAAOtR,IAAAC,cAAA,OAAKmJ,UAAW,uBAAwB5D,IAAKoQ,EAAK9O,GAAK,OAASwK,GAE/D8E,EAAQhF,KAAI,SAACmB,GACT,OAAOvS,IAAAC,cAACiS,EAAc,CAACO,SAAUF,EAAK/T,IAAK+T,EAAIzL,GAAK,MAAQyL,EAAIvD,KACzCxJ,IAAK+M,EAAIzL,GAAK,MAAQyL,EAAIvD,KAC1BwD,SAAU,SAACD,GAAG,OAAK2D,EAAKxC,kBAAkBnB,gBAUjG,CAAA/M,IAAA,kBAAAC,MACA,SAAgBmQ,GACZ,IAAIC,EAAOnQ,KAAK2Q,sBAAsBT,GAClCU,EAAiB5Q,KAAK6Q,kBAAkBX,EAAMC,GAC9CW,EAAiB,GAGrB,OAFIZ,EAAKN,cACLkB,EAAiBxW,IAAAC,cAAA,KAAGmJ,UAAU,aAE9BpJ,IAAAC,cAAAmH,IAAA,CAAKgC,UAAU,eAAe5D,IAAK,MAAQoQ,EAAK9O,GAAI2P,QAAQ,gBACxDzW,IAAAC,cAAAoH,IAAA,CAAKQ,KAAM,IACP7H,IAAAC,cAAA4R,IAAA,CAAM1R,MAAO,CAACS,MAAO,OAAQ8V,UAAW,IACpC1W,IAAAC,cAAC2R,EAAI,CACDjL,MAAO3G,IAAAC,cAAA,MAAImJ,UAAW,aAAY,GAAAC,OAAKuM,EAAK5H,KAAI,KAAKwI,KACxDF,OAWrB,CAAA9Q,IAAA,6BAAAC,MAMA,SAA2BmQ,GACvB,IAAIC,EAAOnQ,KAAK2Q,sBAAsBT,GAClCe,EAAejR,KAAK6Q,kBAAkBX,EAAMC,GAChD,OACI7V,IAAAC,cAAA,OAAKuF,IAAK,MAAQoQ,EAAK9O,IAClB6P,KAGZ,CAAAnR,IAAA,kBAAAC,MAED,SAAgBmR,GACZlR,KAAK0H,SAAS,CAACqG,aAAcmD,MAChC,CAAApR,IAAA,mBAAAC,MAED,SAAiBD,EAAK8O,GAElB,OAAQ9O,GACJ,KAAKqR,IAAe7K,cAChBtG,KAAKuC,SACL6O,YAAY,kBAAmB,IAMvC,OADAvM,QAAQC,IAAI,sCAADnB,OAAuC7D,KAC3C,IACV,CAAAA,IAAA,SAAAC,MAED,WAAU,IAGFsR,EAHCC,EAAA,KACCC,EAAWvR,KAAKnH,MAAMqG,KAERsS,EAAkB,GACtC,GAAID,EAAS/Q,OAASR,KAAKnH,MAAM4Y,aAAc,CAC3C,IAAIC,EAAU,GACdL,EAAkB/W,IAAAC,cAAC+R,EAAa,CAACqF,iBAAkB,CAAC,KAAMC,UAAW5R,KAAKjB,MAAMgP,aAC/C8D,SAAU7R,KAAKiO,iBAC3CsD,EAAS7F,KAAI,SAACvC,GACX,IAAI2H,EAAiB,GACfgB,EAAQ,SAAAnO,OAAYwF,EAAE/H,IAI5B,OAHAsQ,EAAQrI,KAAKyI,GACT3I,EAAEyG,cACFkB,EAAiBxW,IAAAC,cAAA,KAAGmJ,UAAU,aAC3BpJ,IAAAC,cAAC6R,EAAK,CAAC2F,OAAQzX,IAAAC,cAAA,YAAOuW,EAAe,IAAE3H,EAAEb,MAAcxI,IAAKgS,GAC9DR,EAAKU,2BAA2B7I,QAI7C,IAAM8I,EACF3X,IAAAC,cAAA2X,IAAA,KACI5X,IAAAC,cAAA2X,IAAMC,KAAI,KACN7X,IAAAC,cAAC6X,IAAM,CAACzJ,QAAS,kBAAM2I,EAAK5J,SAAS,CAACqG,aAAc2D,MAAW,oBAInEpX,IAAAC,cAAA2X,IAAMC,KAAI,KACN7X,IAAAC,cAAC6X,IAAM,CAACzJ,QAAS,kBAAM2I,EAAK5J,SAAS,CAACqG,aAAc,OAAM,kBAItEyD,EAAkBlX,IAAAC,cAAA8X,IAAA,CAAUC,QAASL,GACjC3X,IAAAC,cAAA,KAAGmJ,UAAU,oBAAoBiF,QAAS,SAAAiG,GAAC,OAAIA,EAAE2D,kBAAkBpF,KAAM,KAAK,YACjE7S,IAAAC,cAACiY,IAAY,aAI9BnB,EAAiBE,EAAS7F,KAAI,SAACvC,GAAC,OAAKmI,EAAKpD,gBAAgB/E,MAE9D,IAAMsJ,EAAkB,CAACzH,aAAc,GACvC,OACI1Q,IAAAC,cAACgS,EAAiB,KACdjS,IAAAC,cAACmY,IAAoB,CACjBC,WAAY3S,KAAKnH,MAAM+Z,SACvBC,WAAY,SAAC/S,EAAK8O,GAAC,OAAK0C,EAAKwB,iBAAiBhT,EAAK8O,MACvDtU,IAAAC,cAACwY,IAAa,CAACrP,UAAW,cACtBpJ,IAAAC,cAAAmH,IAAA,KACIpH,IAAAC,cAAAoH,IAAA,CAAKC,GAAI,EAAGkK,GAAI,GACZxR,IAAAC,cAAC6X,IAAM,CAAC7W,KAAK,UAAUmI,UAAS,iBAAAC,OA9CG,IA8C8B8H,KAAM,QAC/D9C,QAAS,kBAAM2I,EAAK/O,WAChCjI,IAAAC,cAAA,QAAMmJ,UAAU,uBACZpJ,IAAAC,cAAA,KAAGmJ,UAAU,iBAAiBsP,cAAY,SAAQ,OAElD1Y,IAAAC,cAAC4G,IAAY,CAACC,GAAG,YAIrB9G,IAAAC,cAAAoH,IAAA,CAAKC,GAAI,GAAIkK,GAAI,IAEbxR,IAAAC,cAAA,MAAIE,MAAO,CAACwY,YAAa,SAAS3Y,IAAAC,cAAC4G,IAAY,CAACC,GAAG,4BAEvD9G,IAAAC,cAAAoH,IAAA,CAAKC,GAAI,EAAGkK,GAAI,GACX0F,IAGTlX,IAAAC,cAAAmH,IAAA,KACIpH,IAAAC,cAAAoH,IAAA,CAAKQ,KAAM,GAAI1H,MAAO,CAACuW,UAAW,MAAOnU,aAAc,QACnDvC,IAAAC,cAAC2Y,IAAU,CAACC,MAAO,GAAKzP,UAAU,OAAO0P,iBAAiB,UAAUC,YAAY,EACpEC,uBAAwBb,EACxBc,uBAAwBd,EACxBe,iBAAiB,GACxBnC,KAIb/W,IAAAC,cAAAmH,IAAA,KACIpH,IAAAC,cAAAoH,IAAA,CAAKQ,KAAM,IACP7H,IAAAC,cAAC6X,IAAM,CAAC7W,KAAK,UAAUmI,UAAS,iBAAAC,OA3EG,IA2E8B8H,KAAM,QAC/D9C,QAAS,kBAAM2I,EAAK/O,WAChCjI,IAAAC,cAAA,QAAMmJ,UAAU,uBAChBpJ,IAAAC,cAAA,KAAGmJ,UAAU,iBAAiBsP,cAAY,SAAQ,OAE9C1Y,IAAAC,cAAC4G,IAAY,CAACC,GAAG,mBAQxCkB,EAtXe,CAASE,aAyX7BF,EAAeqI,aAAe,CAC1B8G,aAAc,EACdrB,QAAS,EACTlR,KAAM,CAACuL,KAAM,CAAC,KACdmI,SAAU,CAACzB,IAAe7K,gBAiBf7D,iBALS,SAAAlB,GAAK,MAAK,CAC9BrC,KAAMqC,EAAMmB,MAAMxD,KAClB2L,eAAgBtJ,EAAMmB,MAAMmI,kBAGQ,CACpC5C,UAAWA,IACX6G,aAAcA,KACf,KAAM,CAAClW,YAAY,GAHP6J,CAGcH","file":"static/js/21.a875ea30.chunk.js","sourcesContent":["import React, {useRef, useState, useImperativeHandle, forwardRef} from 'react';\nimport * as PoseDetector from \"@tensorflow-models/pose-detection\";\nimport {BlazePose, VideoPlayback, drawPose, MoveNetLoader} from \"react-tfjs-models\";\n\nfunction VideoAI(props, ref) {\n    const [originalSize, setOriginalSize] = useState(null);\n    const canvasRef = useRef(null);\n    const videoPlaybackRef = useRef(null);\n    const model = PoseDetector.SupportedModels.MoveNet;\n    const keypointIndices = PoseDetector.util.getKeypointIndexBySide(model);\n    const adjacentPairs = PoseDetector.util.getAdjacentPairs(model);\n    const style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 9,\n    };\n    // const [videoSource, setVideoSource] = useState(\"/climbing.mp4\");\n    const {videoSource} = props;\n\n    useImperativeHandle(ref, () => ({\n        doPlayScene: (time) => {\n            if (time && time > 0){\n                videoPlaybackRef.current.onReadyState(\n                    () => {\n                        videoPlaybackRef.current.doPlayScene(time)\n                    }\n                );\n            }\n        },\n        getCurrentTime: () => {\n            return videoPlaybackRef.current.getCurrentTime();\n        }\n    }), []);\n\n\n    // let isPoseShown = false;\n    const onPoseEstimate = (pose) => {\n        const ctx = canvasRef.current.getContext('2d');\n        const canvas = canvasRef.current;\n        // if (!isPoseShown) {\n        //     console.log(pose);\n        //     console.log(originalSize);\n        //     isPoseShown = true;\n        // }\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n        drawPose(pose,\n            keypointIndices,\n            adjacentPairs,\n            ctx,\n            {width: canvas.width, height: canvas.height},\n            originalSize\n        );\n    };\n\n\n    const setCanvas = (canvas) => {\n        canvasRef.current = canvas;\n        // console.log(`Current size of canvas: ${canvas.width}x${canvas.height}`)\n    };\n\n    if (videoSource){\n        return (\n            <VideoPlayback style={style} videoSource={videoSource} ref={videoPlaybackRef}\n                           setCanvas={setCanvas} controlsEnabled={true} width={700}\n                           setOriginalVideoSize={setOriginalSize}>\n                <BlazePose\n                    backend='webgl'\n                    runtime='tfjs'\n                    type={PoseDetector.movenet.modelType.SINGLEPOSE_THUNDER}\n                    maxPoses={1}\n                    flipHorizontal={true}\n                    loader={MoveNetLoader}\n                    onPoseEstimate={onPoseEstimate}/>\n            </VideoPlayback>\n        );\n    }else{\n        return <div>Loading</div>\n    }\n\n}\n\nexport default forwardRef(VideoAI);\n","import React from 'react';\nimport { Alert } from 'antd';\nimport styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst AntAlert = props => <Alert {...props} />;\n\nconst Alerts = styled(AntAlert)`\n  && {\n    color: ${palette('text', 1)};\n    font-size: 12px;\n  }\n\n  &&.ant-alert-success {\n    .ant-alert-icon {\n      color: ${palette('success', 0)};\n    }\n  }\n\n  &&.ant-alert-error {\n    .ant-alert-icon {\n      color: ${palette('error', 0)};\n    }\n  }\n\n  &&.ant-alert-with-description {\n    padding: ${props =>\n      props['data-rtl'] === 'rtl'\n        ? '16px 60px 16px 16px'\n        : '16px 16px 16px 60px'};\n    .ant-alert-message {\n      font-weight: 500;\n      color: ${palette('text', 0)};\n    }\n\n    .ant-alert-description {\n      color: ${palette('text', 1)};\n      font-size: 12px;\n    }\n\n    .ant-alert-icon {\n      top: 20px;\n      left: ${props => (props['data-rtl'] === 'rtl' ? 'inherit' : '20px')};\n      right: ${props => (props['data-rtl'] === 'rtl' ? '20px' : 'inherit')};\n    }\n    &&.ant-alert-no-icon {\n      padding: ${props =>\n        props['data-rtl'] === 'rtl'\n          ? '12px 16px 12px 48px'\n          : '12px 48px 12px 16px'};\n    }\n    .ant-alert-close-icon {\n      right: ${props => (props['data-rtl'] === 'rtl' ? 'inherit' : '16px')};\n      left: ${props => (props['data-rtl'] === 'rtl' ? '16px' : 'inherit')};\n    }\n  }\n  &&.ant-alert-no-icon {\n    padding: ${props =>\n      props['data-rtl'] === 'rtl'\n        ? '12px 16px 12px 48px'\n        : '12px 48px 12px 16px'};\n  }\n  .ant-alert-close-icon {\n    right: ${props => (props['data-rtl'] === 'rtl' ? 'inherit' : '16px')};\n    left: ${props => (props['data-rtl'] === 'rtl' ? '16px' : 'inherit')};\n  }\n`;\n\nexport default WithDirection(Alerts);\n","import Alerts from './Alert.style';\n\nexport default Alerts;\n","import StickerWidget from \"@iso/containers/Widgets/Sticker/StickerWidget\";\nimport React from \"react\";\n// import Alert from \"@iso/ui/Antd/Alert/Alert\";\nimport Alert from \"@iso/components/Feedback/Alert\";\nconst marginBot = {\n    marginBottom: '10px',\n};\n\n// For icons, check https://react-icons.github.io/react-icons/icons?name=ai\nfunction messageBox(text, icon, fontColor, bgColor) {\n    return <StickerWidget text={<>{text}</>}\n                          icon={icon}\n                          fontColor={fontColor}\n                          bgColor={bgColor}\n    />\n}\n\nexport function InfoMessageBox({text, icon}) {\n    return messageBox(text, icon, \"#ffffff\", \"#42e09f\");\n}\n\nexport function WarningMessageBox({text, description}) {\n    // return messageBox(text, icon, \"#ffffff\", \"#e2324d\");\n    return <Alert\n        message={text}\n        description={description}\n        type=\"warning\"\n        showIcon\n        // closable\n        // onClose={onClose}\n        style={marginBot}\n    />\n}\n\nexport function ErrorMessageBox({text, description}) {\n    return <Alert\n        message={text}\n        description={description}\n        type=\"error\"\n        showIcon\n        // closable\n        // onClose={onClose}\n        style={marginBot}\n    />\n}\n","import React, {Component, createRef} from 'react';\nimport {connect} from 'react-redux';\nimport {Col, Collapse, Layout, Row} from 'antd';\nimport PageHeader from '@iso/components/utility/pageHeader';\nimport {Provider} from 'react-redux';\nimport {store} from '../../redux/store';\nimport '../../config/i18n';\nimport LinceRegister from '../../components/lince/LinceRegister';\nimport IntlMessages from \"@iso/components/utility/intlMessages\";\nimport siteConfig from '../../config/site.config';\nimport ReactGA from 'react-ga';\nimport VideoAI from \"../../components/lince/video/VideoAI\";\nimport StyledResizable from \"../../components/lince/StyledResizable\";\nimport LinceVideoTool from \"../../components/lince/LinceVideoTool\";\nimport {baseUrl, fetchVideos} from \"../../redux/lince/videoActions\";\nimport PropTypes from \"prop-types\";\nimport RegexConfig from \"../../config/regex.config\";\nimport regexConfig from \"../../config/regex.config\";\nimport ContentHolder from \"@iso/components/utility/contentHolder\";\nimport Box from \"@iso/components/utility/box\";\nimport {InfoMessageBox, WarningMessageBox} from \"../../components/utility/MessagePrompter\";\n\nReactGA.initialize(siteConfig.google.analyticsKey);\nReactGA.pageview(window.location.pathname + window.location.search);\n\nclass AIStudioApp extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            date: new Date(),\n            tool: {},\n            video: \"/climbing.mp4\"\n        };\n        this.linceTool = createRef();\n        this.linceRegister = createRef();\n        this.innerPlayer = createRef();\n        this._doRegisterPlay = this._doRegisterPlay.bind(this);\n        this._doSave = this._doSave.bind(this);\n        this.renderVideoComponent = this.renderVideoComponent.bind(this);\n    }\n\n    componentDidMount() {\n        this.props.fetchVideos();\n    }\n\n    _doRegisterPlay(o) {\n        if (o && o.videoTime) {\n            this.linceTool.current.loadSceneData(o);\n            this.innerPlayer.current.doPlayScene(o.videoTime);\n        }\n    }\n\n    _doSave() {\n        let time = this.innerPlayer.current.getCurrentTime();\n        this.linceTool.current.remoteSave(time);\n    }\n\n    /**\n     * Supports self-configuration to allow local player development and sets different view on\n     * url set according to site configuration\n     *\n     * @param videos the current lince loaded player.\n     * @returns {Element} VideoAI player\n     */\n    renderVideoComponent(videos) {\n        const firstVideo = videos && videos.length > 0 ? videos[0] : null;\n        const isReactLocalDevelopment = RegexConfig.hasSourceURLPort(baseUrl)\n        if (!firstVideo) {\n            return <Box title={\"Video Player\"}>\n                <ContentHolder>\n                    <WarningMessageBox text={<IntlMessages id=\"translations:video-empty\"/>} icon={\"ion-wand\"}/>\n                </ContentHolder>\n            </Box>\n        }\n        if (regexConfig.isYoutubeVideo(firstVideo.url)) {\n            return <Box title={\"Video Player\"}>\n                <ContentHolder>\n                    <WarningMessageBox text={<IntlMessages id=\"youtube-ai\"/>} icon={\"ion-wand\"}/>\n                </ContentHolder>\n            </Box>\n        }\n        if (isReactLocalDevelopment) {\n            return <VideoAI ref={this.innerPlayer} videoSource={\"/climbing.mp4\"}/>\n        } else {\n            if (firstVideo && firstVideo.url) {\n                return <VideoAI ref={this.innerPlayer} videoSource={baseUrl + firstVideo.url}/>\n            }\n        }\n    }\n\n    render() {\n        return (\n            <Provider store={store}>\n                <Layout>\n                    <PageHeader><IntlMessages id=\"ai-studio-title\"/></PageHeader>\n                    <Row>\n                        <Col md={24} style={{paddingBottom: \"5px\"}}>\n                            <InfoMessageBox text={<>\n                                <IntlMessages id=\"experimental-option\"/>.\n                                <IntlMessages id=\"experimental-tool\"/>\n                            </>} icon={\"ion-wand\"}/>\n                        </Col>\n                    </Row>\n                    <div style={{display: 'flex', width: '100%', height: '100%'}}>\n                        <StyledResizable defaultSize={{width: '65%', height: '100%'}} minWidth=\"300\" minHeight=\"600\">\n                            <Row style={{minHeight: \"400px\"}}>\n                                <Col span={24} style={{height: \"auto\"}}>\n                                    {this.renderVideoComponent(this.props.videos)}\n                                </Col>\n                            </Row>\n                            <Row>\n                                <Col span={24}>\n                                    <LinceRegister ref={this.linceRegister} onPlayRegister={this._doRegisterPlay}/>\n                                </Col>\n                            </Row>\n                        </StyledResizable>\n                        <div style={{width: \"100%\"}}>\n                            <LinceVideoTool ref={this.linceTool} tool={this.state.tool} onSave={this._doSave}/>\n                        </div>\n                    </div>\n                </Layout>\n\n            </Provider>\n        );\n    }\n}\n\nAIStudioApp.propTypes = {\n    videos: PropTypes.array.isRequired,\n    fetchVideos: PropTypes.func.isRequired,\n};\nconst mapStateToProps = state => ({\n    videos: state.lince.videos\n});\nexport default connect(mapStateToProps, {fetchVideos}, null, {forwardRef: true})(AIStudioApp);\n","import styled from 'styled-components';\n\nconst LayoutContentWrapper = styled.div`\n  padding: 40px 20px;\n  display: flex;\n  flex-flow: row wrap;\n  overflow: hidden;\n\n  @media only screen and (max-width: 767px) {\n    padding: 50px 20px;\n  }\n\n  @media (max-width: 580px) {\n    padding: 15px;\n  }\n`;\n\nexport { LayoutContentWrapper };\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\n\nconst LayoutContentStyle = styled.div`\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ${palette('border', 0)};\n  height: 100%;\n`;\n\nexport default LayoutContentStyle;\n","import LayoutContentStyle from './layoutContent.style';\n\nexport default LayoutContentStyle;\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { transition } from '@iso/lib/helpers/style_utils';\n\nconst Buttons = ComponentName => styled(ComponentName)`\n  &.ant-btn {\n    display: inline-block;\n    margin-bottom: 0;\n    font-weight: 500;\n    text-align: center;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    background-image: none;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    line-height: 1.5;\n    padding: 0 25px;\n    font-size: 14px;\n    border-radius: 4px;\n    height: 36px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    position: relative;\n    color: ${palette('text', 1)};\n    border-color: ${palette('border', 0)};\n    ${transition()};\n\n    &:hover {\n      border-color: ${palette('primary', 0)};\n      color: ${palette('primary', 0)};\n    }\n\n    > .anticon + span,\n    > span + .anticon {\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 0.5em 0 0' : '0 0 0 0.5em'};\n    }\n\n    .anticon-right {\n      transform: ${props =>\n        props['data-rtl'] === 'rtl' ? 'rotate(180deg)' : 'rotate(0)'};\n    }\n\n    .anticon-left {\n      transform: ${props =>\n        props['data-rtl'] === 'rtl' ? 'rotate(180deg)' : 'rotate(0)'};\n    }\n\n    &.ant-btn-primary {\n      background-color: ${palette('primary', 0)};\n      border-color: ${palette('primary', 0)};\n\n      &:hover {\n        background-color: ${palette('primary', 10)};\n        border-color: ${palette('primary', 10)};\n        color: #fff;\n      }\n    }\n\n    &.ant-btn-sm {\n      padding: 0 15px;\n      height: 28px;\n      font-size: 12px;\n\n      &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline) {\n        padding: ${props =>\n          props['data-rtl'] === 'rtl' ? '0 24px 0 15px' : '0 15px 0 24px'};\n        .anticon {\n          margin: ${props =>\n            props['data-rtl'] === 'rtl' ? '0 -17px 0 0' : '0 0 0 -17px'};\n        }\n      }\n    }\n\n    &.ant-btn-lg {\n      padding: 0 35px;\n      font-size: 14px;\n      height: 42px;\n    }\n\n    &.ant-btn-primary {\n      color: #ffffff;\n    }\n\n    &.ant-btn-dashed {\n      border-style: dashed;\n      border-color: ${palette('border', 1)};\n\n      &:hover {\n        color: ${palette('primary', 0)};\n        border-color: ${palette('primary', 0)};\n      }\n    }\n\n    &.ant-btn-danger {\n      background-color: ${palette('error', 0)};\n      border-color: ${palette('error', 0)};\n      color: #ffffff;\n\n      &:hover {\n        background-color: ${palette('error', 2)};\n        border-color: ${palette('error', 2)};\n      }\n\n      &.ant-btn-background-ghost {\n        color: ${palette('error', 0)};\n        background-color: transparent;\n        border-color: ${palette('error', 0)};\n\n        &:hover {\n          color: ${palette('error', 2)};\n          border-color: ${palette('error', 2)};\n        }\n      }\n    }\n\n    &.ant-btn-circle,\n    &.ant-btn-circle-outline {\n      width: 35px;\n      padding: 0;\n      font-size: 14px;\n      border-radius: 50%;\n      height: 35px;\n\n      &.ant-btn-sm {\n        padding: 0;\n        height: 28px;\n        width: 28px;\n        font-size: 12px;\n      }\n\n      &.ant-btn-lg {\n        padding: 0;\n        font-size: 14px;\n        height: 42px;\n        width: 42px;\n      }\n    }\n\n    &.ant-btn.disabled,\n    &.ant-btn[disabled],\n    &.ant-btn.disabled:hover,\n    &.ant-btn[disabled]:hover,\n    &.ant-btn.disabled:focus,\n    &.ant-btn[disabled]:focus,\n    &.ant-btn.disabled:active,\n    &.ant-btn[disabled]:active,\n    &.ant-btn.disabled.active,\n    &.ant-btn[disabled].active {\n      color: ${palette('grayscale', 2)};\n      background-color: #f7f7f7;\n      border-color: ${palette('border', 0)};\n      cursor: not-allowed;\n    }\n\n    &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline)\n      .anticon {\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 -14px 0 0' : '0 0 0 -14px'};\n    }\n\n    &.isoButton {\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 0;\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 25px;\n      font-size: 13px;\n      border-radius: 4px;\n      height: 35px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      color: #ffffff;\n      background-color: ${palette('primary', 0)};\n      ${transition()};\n\n      &:hover {\n        background-color: ${palette('primary', 2)};\n      }\n\n      &.isoBtnSm {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n\n      &.isoBtnLg {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n  }\n\n  + .ant-btn-group {\n    margin-left: ${props =>\n      props['data-rtl'] === 'rtl' ? '0' : '-1px'} !important;\n    margin-right: ${props =>\n      props['data-rtl'] === 'rtl' ? '-1px' : '0'} !important;\n  }\n`;\n\nconst RadioButtons = ComponentName => styled(ComponentName)`\n  .ant-radio-button-wrapper {\n    height: 35px;\n    line-height: 33px;\n    color: ${palette('text', 1)};\n    border: 1px solid ${palette('border', 0)};\n    border-left: 0;\n    background: #fff;\n    padding: 0 20px;\n\n    &:hover,\n    &.ant-radio-button-wrapper-focused {\n      color: ${palette('primary', 0)};\n    }\n\n    &.ant-radio-button-wrapper-checked {\n      background: #fff;\n      border-color: ${palette('primary', 0)};\n      color: ${palette('primary', 0)};\n      box-shadow: -1px 0 0 0 ${palette('primary', 0)};\n    }\n  }\n`;\n\nconst ButtonsGroup = ComponentName => styled(ComponentName)`\n  &.ant-btn-group {\n    .ant-btn {\n      margin: 0;\n      margin-right: 0;\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 1px solid transparent;\n      border-color: ${palette('border', 1)};\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 8px;\n      font-size: 14px;\n      border-radius: 0;\n      height: 36px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      ${transition()};\n\n      &:hover {\n        border-color: ${palette('primary', 0)};\n      }\n\n      &.ant-btn-dashed {\n        border-style: dashed;\n\n        &:hover {\n          border-color: ${palette('primary', 0)};\n        }\n      }\n\n      &.ant-btn-primary {\n        border-color: ${palette('primary', 0)};\n\n        &:hover {\n          border-color: ${palette('primary', 10)};\n        }\n      }\n    }\n\n    > .ant-btn:first-child:not(:last-child) {\n      border-radius: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 4px 4px 0' : '4px 0 0 4px'};\n    }\n\n    > .ant-btn:last-child:not(:first-child) {\n      border-radius: ${props =>\n        props['data-rtl'] === 'rtl' ? '4px 0 0 4px' : '0 4px 4px 0'};\n    }\n\n    .ant-btn-primary:last-child:not(:first-child),\n    .ant-btn-primary + .ant-btn-primary {\n      border-left-color: ${props =>\n        props['data-rtl'] === 'rtl'\n          ? palette('primary', 0)\n          : palette('primary', 2)};\n      border-right-color: ${props =>\n        props['data-rtl'] === 'rtl'\n          ? palette('primary', 2)\n          : palette('primary', 0)};\n    }\n\n    .ant-btn-primary:first-child:not(:last-child) {\n      border-left-color: ${props =>\n        props['data-rtl'] === 'rtl'\n          ? palette('primary', 2)\n          : palette('primary', 0)};\n      border-right-color: ${props =>\n        props['data-rtl'] === 'rtl'\n          ? palette('primary', 0)\n          : palette('primary', 2)};\n    }\n\n    .ant-btn + .ant-btn,\n    + .ant-btn {\n      margin-left: ${props =>\n        props['data-rtl'] === 'rtl' ? '0' : '-1px'} !important;\n      margin-right: ${props =>\n        props['data-rtl'] === 'rtl' ? '-1px' : '0'} !important;\n    }\n\n    &.ant-btn-group-lg {\n      > .ant-btn {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n\n    &.ant-btn-group-sm {\n      > .ant-btn {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n    }\n  }\n\n  &.ant-btn-group + &.ant-btn-group {\n    margin-left: ${props =>\n      props['data-rtl'] === 'rtl' ? '0' : '-1px'} !important;\n    margin-right: ${props =>\n      props['data-rtl'] === 'rtl' ? '-1px' : '0'} !important;\n  }\n`;\n\nconst GhostButtons = ComponentName => styled(ComponentName)`\n  .ant-btn-background-ghost {\n    background: transparent !important;\n    border-color: #fff;\n    color: #fff;\n\n    &.ant-btn-primary {\n      color: ${palette('primary', 0)};\n      background-color: transparent;\n      border-color: ${palette('primary', 0)};\n    }\n  }\n`;\n\nexport { Buttons, ButtonsGroup, RadioButtons, GhostButtons };\n","import { Button } from 'antd';\nimport { Buttons, ButtonsGroup } from './styles/button.style';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst AntButton = Buttons(Button);\nconst isoButton = WithDirection(AntButton);\nconst AntButtonGroup = ButtonsGroup(Button.Group);\nconst ButtonGroup = WithDirection(AntButtonGroup);\n\nexport default isoButton;\nexport { ButtonGroup };\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\n\nconst BoxWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  background-color: #ffffff;\n  border: 1px solid ${palette('border', 0)};\n  margin: 0 0 30px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  @media only screen and (max-width: 767px) {\n    padding: 20px;\n    ${'' /* margin: 0 10px 30px; */};\n  }\n\n  &.half {\n    width: calc(50% - 34px);\n    @media (max-width: 767px) {\n      width: 100%;\n    }\n  }\n`;\n\nexport { BoxWrapper };\n","import React from 'react';\nimport { LayoutContentWrapper } from './layoutWrapper.style';\n\nexport default props => (\n  <LayoutContentWrapper\n    className={\n      props.className != null\n        ? `${props.className} isoLayoutContentWrapper`\n        : 'isoLayoutContentWrapper'\n    }\n    {...props}\n  >\n    {props.children}\n  </LayoutContentWrapper>\n);\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\n\nconst BoxTitle = styled.h3`\n  font-size: 14px;\n  font-weight: 500;\n  color: ${palette('text', 0)};\n  margin: 0;\n  margin-bottom: 5px;\n`;\n\nconst BoxSubTitle = styled.p`\n  font-size: 13px;\n  font-weight: 400;\n  color: ${palette('text', 3)};\n  line-height: 24px;\n`;\n\nexport { BoxTitle, BoxSubTitle };\n","import React from 'react';\nimport { BoxTitle, BoxSubTitle } from './boxTitle.style';\n\nexport default props => {\n  return (\n    <div>\n      {props.title ? (\n        <BoxTitle className=\"isoBoxTitle\"> {props.title} </BoxTitle>\n      ) : (\n        ''\n      )}\n      {props.subtitle ? (\n        <BoxSubTitle className=\"isoBoxSubTitle\"> {props.subtitle} </BoxSubTitle>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst WDComponentTitleWrapper = styled.h1`\n  font-size: 19px;\n  font-weight: 500;\n  color: ${palette('secondary', 2)};\n  width: 100%;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n\n  @media only screen and (max-width: 767px) {\n    margin: 0 10px;\n    margin-bottom: 30px;\n  }\n\n  &:before {\n    content: '';\n    width: 5px;\n    height: 40px;\n    background-color: ${palette('secondary', 3)};\n    display: flex;\n    margin: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 0 0 15px' : '0 15px 0 0'};\n  }\n\n  &:after {\n    content: '';\n    width: 100%;\n    height: 1px;\n    background-color: ${palette('secondary', 3)};\n    display: flex;\n    margin: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 15px 0 0' : '0 0 0 15px'};\n  }\n`;\n\nconst ComponentTitleWrapper = WithDirection(WDComponentTitleWrapper);\nexport { ComponentTitleWrapper };\n","import React from 'react';\nimport { ComponentTitleWrapper } from './pageHeader.style';\n\nexport default props => (\n  <ComponentTitleWrapper className=\"isoComponentTitle\">\n    {props.children}\n  </ComponentTitleWrapper>\n);\n","import React from 'react';\nimport BoxTitleWrapper from './boxTitle';\nimport { BoxWrapper } from './box.style';\n\nexport default props => (\n  <BoxWrapper\n    className={`${props.className ? props.className : ''} isoBoxWrapper`}\n    style={props.style}\n  >\n    <BoxTitleWrapper title={props.title} subtitle={props.subtitle} />\n    {props.children}\n  </BoxWrapper>\n);\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst WDContentHolderWrapper = styled.div`\n  margin-top: 30px;\n  -webkit-overflow-scrolling: touch;\n\n  .demoBtn {\n    margin-right: ${props => (props['data-rtl'] === 'rtl' ? '0' : '10px')};\n    margin-left: ${props => (props['data-rtl'] === 'rtl' ? '10px' : '0')};\n  }\n\n  .demoBtnsWrapper {\n    &:nth-child(1) {\n      margin-left: ${props => (props['data-rtl'] === 'rtl' ? '0' : '70px')};\n      margin-right: ${props => (props['data-rtl'] === 'rtl' ? '70px' : '0')};\n      white-space: nowrap;\n    }\n\n    &:nth-child(2) {\n      width: 70px;\n      float: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n    }\n\n    &:nth-child(3) {\n      width: 70px;\n      margin-left: ${props => (props['data-rtl'] === 'rtl' ? '0' : '295px')};\n      margin-right: ${props => (props['data-rtl'] === 'rtl' ? '295px' : '0')};\n    }\n\n    &:nth-child(4) {\n      margin-left: ${props => (props['data-rtl'] === 'rtl' ? '0' : '70px')};\n      margin-right: ${props => (props['data-rtl'] === 'rtl' ? '70px' : '0')};\n      clear: both;\n      white-space: nowrap;\n    }\n\n    @media only screen and (max-width: 480px) {\n      margin-left: ${props =>\n        props['data-rtl'] === 'rtl' ? '8px' : '0 !important'};\n      white-space: nowrap;\n      margin-right: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 !important' : '8px'};\n      float: none !important;\n    }\n\n    .demoPosBtn {\n      width: 70px;\n      margin-right: ${props => (props['data-rtl'] === 'rtl' ? '0' : '8px')};\n      margin-left: ${props => (props['data-rtl'] === 'rtl' ? '8px' : '0')};\n      margin-bottom: 8px;\n      padding: 0;\n\n      @media only screen and (max-width: 480px) {\n        width: 65px;\n      }\n    }\n  }\n\n  .ant-btn {\n    &:not(.demoPosBtn) {\n      &:last-child {\n        margin-right: 0;\n      }\n    }\n  }\n\n  .tooltipBtn {\n    display: inline-block;\n    line-height: 32px;\n    height: 32px;\n    width: 70px;\n    font-size: 14px;\n    text-align: center;\n    background: ${palette('secondary', 1)};\n    margin-right: ${props => (props['data-rtl'] === 'rtl' ? 'auto' : '6px')};\n    margin-left: ${props => (props['data-rtl'] === 'rtl' ? '6px' : '0')};\n    margin-bottom: 6px;\n    border-radius: 6px;\n  }\n\n  .ant-progress {\n    &.ant-progress-circle {\n      margin-right: ${props => (props['data-rtl'] === 'rtl' ? '0' : '15px')};\n      margin-left: ${props => (props['data-rtl'] === 'rtl' ? '15px' : '0')};\n\n      &:last-child {\n        margin-right: ${props => (props['data-rtl'] === 'rtl' ? '0' : '0')};\n        margin-left: ${props => (props['data-rtl'] === 'rtl' ? '0' : '0')};\n      }\n    }\n  }\n\n  strong {\n    font-weight: 700;\n    font-size: 14px;\n  }\n`;\n\nconst ContentHolderWrapper = WithDirection(WDContentHolderWrapper);\n\nexport { ContentHolderWrapper };\n","import React from 'react';\nimport { ContentHolderWrapper } from './contentHolder.style';\n\nexport default props => (\n  <ContentHolderWrapper className=\"isoExampleWrapper\" style={props.style}>\n    {props.children}\n  </ContentHolderWrapper>\n);\n","import apiUrl from \"./site.config\";\n\nexport default {\n    isHTML: RegExp.prototype.test.bind(/(<([^>]+)>)/i),\n    hasSourceURLPort: RegExp.prototype.test.bind(/(https?:\\/\\/.*):(\\d*)\\/?(.*)/i),\n    isReactLocalDevelopment: () => {\n        console.log(`checking url ${apiUrl}`)\n       return this.hasSourceURLPort(apiUrl)\n    },\n    isYoutubeVideo: RegExp.prototype.test.bind(/^((?:https?:)?\\/\\/)?((?:www|m)\\.)?((?:youtube(-nocookie)?\\.com|youtu.be))(\\/(?:[\\w\\-]+\\?v=|embed\\/|v\\/)?)([\\w\\-]+)(\\S+)?$/img)\n}\n","import i18n from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport {initReactI18next} from 'react-i18next';\n\ni18n\n// load translation using xhr -> see /public/locales\n// learn more: https://github.com/i18next/i18next-xhr-backend\n    .use(Backend)\n    // detect user language\n    // learn more: https://github.com/i18next/i18next-browser-languageDetector\n    .use(LanguageDetector)\n    // pass the i18n instance to react-i18next.\n    .use(initReactI18next)\n    // init i18next\n    // for all options read: https://www.i18next.com/overview/configuration-options\n    .init({\n        preload: ['es', 'en', 'de'],\n        initImmediate:false,\n        //whitelist: ['en', 'es'],\n        //nonExplicitWhitelist: false,\n        load: 'languageOnly',\n        detection: {\n            lookupQuerystring: 'lang', //will detect chosen language from user\n        },\n        fallbackLng: {\n            'es-ES': ['es'],\n            'en-US': ['en'],\n            'de-DE': ['de'],\n            default: ['es'],\n        },\n        //fallbackLng: 'en',\n        debug: true,\n        react: {\n            wait: true,\n            bindI18n: 'languageChanged loaded',\n        },\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        },\n    });\n\nexport default i18n;\n","import React from 'react';\nimport {Resizable} from 're-resizable';\nconst style = {\n    zIndex:\"9999!important\",\n    borderRight: 'solid 5px #ddd',\n    margin: '5px 5 5 5'\n}\nexport default function StyledResizable(props) {\n    return <Resizable {...props} style={style}/>\n}\n","// https://www.npmjs.com/package/react-keyboard-event-handler\nexport default {\n    saveActionKey: \"x\",\n    playKey: \"q\",\n    pauseKey: \"w\",\n    stopKey: \"e\",\n    videoResizeFullKey: \"1\",\n    videoResizeHalfKey: \"2\",\n    videoResizeThirdKey: \"3\",\n    normalSpeedKey: \"a\",\n    halfSpeedKey: \"s\",\n    jumpBackKey: \"d\",\n    jumpForwardKey: \"f\",\n    // leftKey: 37,\n    // rightKey: 39\n    leftKey: \"z\",\n    rightKey: \"c\"\n};\n","import React, {Component, forwardRef} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from \"prop-types\";\nimport {deleteRegister, fetchRegister, fetchTool, selectRegisterId} from '../../redux/lince/videoActions';\nimport DataTable from \"react-data-table-component\";\nimport {Trans} from 'react-i18next';\nimport Moment from 'react-moment';\nimport UserSeconds from \"../utility/UserSeconds\";\n\nclass LinceRegister extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {selected: null, timeOutEvent: null};//https://stackoverflow.com/questions/44845372/select-row-on-click-react-table\n        this.scheduleClearSelection = this.scheduleClearSelection.bind(this);\n        this._deleteScene = this._deleteScene.bind(this);\n        this._playScene = this._playScene.bind(this);\n    }\n\n    scheduleClearSelection() {\n        //10 sec waiting clear up\n        if (this.state.timeOutEvent){\n            clearTimeout(this.state.timeOutEvent);\n        }\n        this.setState({\n            timeOutEvent: setTimeout(() => {\n                this.setState({selected: null});\n                this.props.selectRegisterId(null);\n            }, 10000)\n        });\n    }\n\n    _deleteScene(o) {\n        this.props.deleteRegister({moment: o.row.videoTime, id: o.row.id});\n    };\n\n    _playScene(o) {\n        /*  console.log(o.row.videoTime);\n          console.log(`seconds ${o.row.videoTime} ${UserSeconds(o.row.videoTime)}`);*/\n        this.setState({selected: o.row.id});\n        this.props.selectRegisterId(o.row.id);\n        this.props.onPlayRegister(o.row);\n        this.forceUpdate();\n        this.scheduleClearSelection();\n    }\n\n\n    componentDidMount() {\n        this.props.fetchTool();\n        this.props.fetchRegister();\n        this._isMounted = true;\n    }\n\n    render() {\n        //https://developer.aliyun.com/mirror/npm/package/react-data-table-component\n        let columns = [\n            {\n                name: <span><i className=\"fa fa-odnoklassniki\"/>&#160;<Trans i18nKey=\"action\">Action</Trans></span>,\n                sortable: false,\n                minWidth: \"108px\",\n                cell: row => {\n                    return <div>\n                        <button type=\"button\" className=\"btn red btn-playscene\"\n                                onClick={() => this._playScene({row})}>\n                            <i className=\"fa fa-share\"/>&#160;\n                        </button>\n                        &#160;&#160;\n                        <button type=\"button\" className=\"btn blue btn-deletescene\"\n                                onClick={() => this._deleteScene({row})}>\n                            <i className=\"fa fa-trash-o\"/>\n                        </button>\n                    </div>\n                }\n            }, {\n                name: <span><i className=\"fa fa-hourglass-o\"/>T (sec)</span>,\n                selector: 'videoTime', sortable: true, format: d => {\n                    return UserSeconds(d.videoTime);\n                }\n            }, {\n                name: <span><i className=\"fa fa-television\"/> Frame</span>,\n                hide: 'xs',\n                selector: 'frames', sortable: true\n            }];\n        if (this.props.fullMode) {\n            this.props.tool.forEach(v => {\n                const currentId = v.id;\n                columns.push({\n                    name: <span>{v.code}</span>,\n                    //sortable: true,\n                    //selector: 'saveDate',\n                    cell: row => {\n                        let value = \"\";\n                        row.register.forEach(currentRegister => {\n                            if (currentRegister.parent === currentId) {\n                                if (currentRegister.nodeInformation !== null) {\n                                    value = currentRegister.nodeInformation.substring(0, 10);\n                                    if (currentRegister.nodeInformation.length > 10) {\n                                        value += \"...\";\n                                    }\n                                } else {\n                                    value = currentRegister.code;\n                                }\n                            }\n                        });\n                        return <span>{value}</span>;\n                    }\n                });\n            });\n        }\n        columns.push({\n            name: <span><i className=\"fa fa-calendar-check-o\"/>&#160;<Trans i18nKey=\"date\">Date</Trans></span>,\n            hide: 'xs',\n            sortable: true,\n            selector: 'saveDate',\n            cell: (row) => {\n                return <Moment format=\"DD/MM/YY HH:mm\" parse=\"DD-MM-YYYY HH:mm:ss\"\n                               date={row.saveDate}/>\n            }\n\n        });\n        const selectedId = this.state ? this.state.selected : -1;\n        const conditionalRowStyles = [\n            {\n                when: row => row.id === selectedId,\n                style: {\n                    backgroundColor: 'rgba(248, 148, 6, 0.9)',\n                    color: 'black',\n                    '&:hover': {\n                        cursor: 'pointer',\n                    },\n                },\n            }\n        ];\n        return (\n            <DataTable noHeader dense fixedHeader\n                /*fixedHeaderScrollHeight=\"100%\"*/ /*pagination*/\n                       conditionalRowStyles={conditionalRowStyles}\n                /*customStyles={customStyles}*/\n                       columns={columns}\n                       data={this.props.register}\n                       defaultSortField=\"videoTime\"\n            />\n        );\n    }\n}\n\nLinceRegister.propTypes = {\n    tool: PropTypes.array,\n    register: PropTypes.array,\n    fullMode: PropTypes.bool,\n    activeRegister: PropTypes.number,\n    fetchRegister: PropTypes.func.isRequired,\n    fetchTool: PropTypes.func.isRequired,\n    deleteRegister: PropTypes.func.isRequired,\n    selectRegisterId: PropTypes.func.isRequired,\n    onPlayRegister: PropTypes.func.isRequired,\n};\nLinceRegister.defaultProps = {\n    fullMode: true\n};\n/*\nforward ref https://github.com/reduxjs/react-redux/issues/914\nhttps://buildreactapps.com/how-to-pass-ref-using-react-forwardref/\nhttps://medium.com/flow-type/supporting-react-forwardref-and-beyond-f8dd88f35544\n */\nconst mapStateToProps = store => ({\n    tool: store.lince.tool,\n    activeRegister: store.lince.activeRegister,\n    register: store.lince.register\n});\nconst ConnectedLinceRegister = connect(mapStateToProps, {\n    fetchRegister: fetchRegister,\n    fetchTool: fetchTool,\n    selectRegisterId: selectRegisterId,\n    deleteRegister: deleteRegister\n}, null, {forwardRef: true})(LinceRegister);\nexport default forwardRef((props, ref) =>\n    <ConnectedLinceRegister {...props} myForwardedRef={ref}/>\n);\n","import styled from 'styled-components';\nimport { borderRadius } from '@iso/lib/helpers/style_utils';\n\nconst StickerWidgetWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: stretch;\n  overflow: hidden;\n  ${borderRadius('5px')};\n\n  .isoIconWrapper {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 80px;\n    flex-shrink: 0;\n    background-color: rgba(0, 0, 0, 0.1);\n\n    i {\n      font-size: 30px;\n    }\n  }\n\n  .isoContentWrapper {\n    width: 100%;\n    padding: 20px 15px 20px 20px;\n    display: flex;\n    flex-direction: column;\n\n    .isoStatNumber {\n      font-size: 20px;\n      font-weight: 500;\n      line-height: 1.1;\n      margin: 0 0 5px;\n    }\n\n    .isoLabel {\n      font-size: 16px;\n      font-weight: 400;\n      margin: 0;\n      line-height: 1.2;\n    }\n  }\n`;\n\nexport { StickerWidgetWrapper };\n","import React from 'react';\nimport { StickerWidgetWrapper } from './StickerWidget.styles';\n\nexport default function({ fontColor, bgColor, width, icon, number, text }) {\n  const textColor = {\n    color: fontColor,\n  };\n  const widgetStyle = {\n    backgroundColor: bgColor,\n    width: width,\n  };\n  const iconStyle = {\n    color: fontColor,\n  };\n\n  return (\n    <StickerWidgetWrapper className=\"isoStickerWidget\" style={widgetStyle}>\n      <div className=\"isoIconWrapper\">\n        <i className={icon} style={iconStyle} />\n      </div>\n\n      <div className=\"isoContentWrapper\">\n        <h3 className=\"isoStatNumber\" style={textColor}>\n          {number}\n        </h3>\n        <span className=\"isoLabel\" style={textColor}>\n          {text}\n        </span>\n      </div>\n    </StickerWidgetWrapper>\n  );\n}\n","import React, {forwardRef} from 'react';\nimport {Col, Row} from 'antd';\n\n/**\n * Tricky component to repair non col size info in ant design\n * Supports forwarding refs into the row\n *\n * @author Alberto Soto\n * @type {React.ComponentType<{} & React.ClassAttributes<unknown>>}\n */\nconst DynaRow = forwardRef((props, ref) => {\n    const iterate = Array.isArray(props.children);\n    const size = iterate?(24 / props.children.length) % 24:24;\n    return (\n        <Row ref={ref}>\n            {iterate ? props.children.map((i, index) => {\n                return <Col md={size} sm={size} xs={size} lg={size} key={`dynarow_${index}_${Date.now()}`}>\n                    {i}\n                </Col>\n            }) : <Col md={size} sm={size} xs={size} lg={size}>{props.children}</Col>}\n        </Row>\n\n    );\n});\nexport default DynaRow;","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {fetchTool, saveRegister} from '../../redux/lince/videoActions';\nimport PropTypes from \"prop-types\";\nimport {Card, Col, Collapse, Dropdown, Menu, Row} from 'antd';\nimport Button from '@iso/components/uielements/button';\nimport LayoutContent from \"@iso/components/utility/layoutContent\";\nimport LayoutContentWrapper from '@iso/components/utility/layoutWrapper';\nimport DynaRow from \"./DynaRow\";\nimport styled from \"styled-components\";\nimport {DownOutlined} from '@ant-design/icons';\nimport IntlMessages from \"@iso/components/utility/intlMessages\";\nimport ScrollArea from \"react-scrollbar\";\nimport \"../../assets/styles/scrollarea.css\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport keyboardConfig from \"../../config/keyboard.config\";\nimport {showSuccess} from \"../utility/ShowNotification\";\n/*\nno redux functional way here\nimport {  useSelector } from 'react-redux';\nconst customizedTheme = useSelector(\n    state => state.ThemeSwitcher.sidebarTheme\n);\n*/\nconst customColor = {\n    textColor: \"white\",\n    bgColor: \"#2d3446\"\n};\n//const {Title} = Typography;\nconst {Meta} = Card;\nconst {Panel} = Collapse;\nconst LinceCollapse = styled(Collapse)`\n  .ant-collapse-content > .ant-collapse-content-box {\n    padding: 2px\n  }\n\n  .ant-collapse-header {\n    padding: 5px 5px 5px 40px !important;\n  }\n`;\nconst LincePanelWrapper = styled(LayoutContentWrapper)`\n  //this one is important\n  width: 100%;\n  padding: 0px 0 0 0;\n\n  .ant-row > div {\n    margin-bottom: 5px;\n  }\n\n  .ant-card-body, .minPadding {\n    padding: 5px;\n  }\n\n  .ant-card-meta {\n    border-radius: 5px;\n    margin-bottom: 3px;\n    text-align: center;\n    background: ${customColor.bgColor};\n    color: ${customColor.textColor};\n  }\n\n  .linceFont {\n    color: ${customColor.textColor};\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  /* START botonera flex */\n\n  .lince-flex-container {\n    display: flex;\n    flex-wrap: nowrap;\n  }\n\n  .lince-flex-container > div {\n    background-color: #f1f1f1;\n    width: 100%;\n    padding: 2px;\n    margin: 2px;\n    text-align: center;\n  }\n\n  /* END botonera flex */\n\n  .lince-flex-container > div.bg-yellow-crusta.bg-font-yellow-crusta {\n    background: ${customColor.bgColor};\n  }\n\n  // en svg se tiene que usar la propiedad fill\n  .lince-flex-container > div.bg-yellow-crusta.bg-font-yellow-crusta text {\n    fill: ${customColor.textColor};\n  }\n`;\n\nclass CategoryButton extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {active: false};\n        this._doSelect = this._doSelect.bind(this);\n        this.setStatusTo = this.setStatusTo.bind(this);\n        this.isActive = this.isActive.bind(this);\n    }\n\n    _doSelect(cat) {\n        //console.log(this.props.category);\n        this.props.onSelect(this.props.category);\n    }\n\n    setStatusTo(b) {\n        this.setState({active: b});\n    }\n\n    isActive() {\n        return this.state.active;\n    }\n\n    render() {\n        const cat = this.props.category;\n        const baseClass = \"icon-btn btn-cri cat-group-\" + cat.parent;\n        const addClass = baseClass + (this.state.active ? \" bg-yellow-crusta bg-font-yellow-crusta\" : \"\");\n        const overText = cat.name + (cat.description ? \": \" + cat.description : \"\");\n        return (\n            <div className={addClass}>\n                <a key={cat.id} className={addClass} onClick={(cat) => this._doSelect(cat)}\n                    /*id={cat.id}*/\n                   title={overText}\n                   href={`#${cat.id}`}\n                   data-code={cat.code} data-id={cat.id} data-group={cat.name} style={{width: \"100%\"}}>\n                    <svg viewBox=\"0 0 50 50\" width=\"100%\" height=\"40\">\n                        <text x=\"0\" y=\"32\">{cat.code}</text>\n                        {/*transform=\"rotate(45 30,20)\"*/}\n                    </svg>\n                </a>\n            </div>\n        )\n    }\n}\n\nCategoryButton.propTypes = {\n    category: PropTypes.object,\n    onSelect: PropTypes.func,\n};\n\nclass LinceVideoTool extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {canSave: false, registerId: null, moment: 0.1, categories: [], nonCollapsed: []};//lo situamos por defecto al inicio\n        this._onSelectCategory = this._onSelectCategory.bind(this);\n        this._handleCollapse = this._handleCollapse.bind(this);\n\n        this._renderCriteria = this._renderCriteria.bind(this);\n        this._unselectNotChosen = this._unselectNotChosen.bind(this);\n        this.loadSceneData = this.loadSceneData.bind(this);\n        this.getToolState = this.getToolState.bind(this);\n        this.setTime = this.setTime.bind(this);\n        this.remoteSave = this.remoteSave.bind(this);\n        this.onSave = this.props.onSave.bind(this);\n    }\n\n    //Este debe notificar a false a los que no son persistence\n    remoteSave(time) {\n        // console.log(this.props.activeRegister);\n        let categories = [];//{code:cat.code}\n        //recorremos todos los componentes y añadimos los que están activos al array\n        this.props.tool.forEach((v) => {\n            try {\n                if (v.informationNode) {\n                    //key={crit.id + \"-row-info\"}\n                    const inputValue = this.refs[v.id + \"-row-info\"].value;\n                    categories.push({id: v.id, code: v.code + \"-DATA\", nodeInformation: inputValue});\n                } else {\n                    v.innerCategories.forEach((k) => {\n                        if (this.refs[k.id + \"cat\" + k.code].state.active) {\n                            categories.push({id: k.id, code: k.code});\n                        }\n                    });\n                }\n            } catch (e) {\n                console.log(`No criteria value for id ${v.id}, code ${v.code} & name ${v.name}`);\n            }\n        });\n        this.setTime(time);\n        this.setState({categories: categories});\n        let aux = {\n            moment: time,\n            categories: categories,\n            id: this.props.activeRegister\n        };\n        this.props.saveRegister(aux);\n        this._unselectNotPersistence();\n    }\n\n    clearInputs() {\n        this.props.tool.forEach((t) => {\n            try {\n                if (t.informationNode) {\n                    this.refs[t.id + \"-row-info\"].value = \"\";\n                }\n            } catch (e) {\n\n            }\n        });\n        this.setCurrentSceneId(null);\n    }\n\n    loadSceneData(data) {\n        // console.log(data);\n        // console.log(\"selected Register Id in props:\" + this.props.activeRegister);\n        //para todos los registros\n        this.clearInputs();\n        this._unselectNotPersistence(true);\n        data.register.forEach((register) => {\n            //recorremos la herramienta\n            this.props.tool.forEach((t) => {\n                try {\n                    if (t.id && register.parent === t.id) {\n                        if (t.informationNode) {\n                            // console.log(t);\n                            // console.log(\"tocado:\"+ textValue);\n                            this.refs[t.id + \"-row-info\"].value = register.nodeInformation;\n                        } else {\n                            //hacemos el set de esa fila para cada boton: activo o no\n                            t.innerCategories.forEach((cat) => {\n                                const status = (register.code === cat.code);\n                                const elem = this.refs[cat.id + \"cat\" + cat.code];\n                                if (elem) {\n                                    elem.setStatusTo(status);\n                                    this.setState({[cat.parent]: cat.code});\n                                }\n                            });\n                        }\n                    }\n                } catch (e) {\n                    console.log(\"loading rule err \" + e);\n                }\n            });\n        });\n        this.setTime(data.videoTime);\n        this.setCurrentSceneId(this.props.activeRegister);\n    }\n\n    setTime(time) {\n        this.setState({moment: time});\n    }\n\n    setCurrentSceneId(id) {\n        this.setState({registerId: id});\n    }\n\n    /**\n     * Unchecks all items that are not persistant\n     * @private\n     */\n    _unselectNotPersistence(forceAll = false) {\n        this.props.tool.forEach((v) => {\n            /*      console.log(\"unselected\");\n                  console.log(v);*/\n            if (v.persistence === false || forceAll) {\n                v.innerCategories.forEach((k) => {\n                    const elem = this.refs[k.id + \"cat\" + k.code];\n                    if (elem) {\n                        elem.setStatusTo(false);\n                    }\n                });\n                if (v.informationNode) {\n                    const elem = this.refs[v.id + \"-row-info\"];\n                    if (elem) {\n                        elem.value = \"\";\n                    }\n                }\n            }\n        });\n    }\n\n    _unselectNotChosen(parent, target) {\n        //console.log(\"unselectnotchosen init:\" + target);\n        let buttonIsSet = true;\n        this.props.tool.forEach((v) => {\n            if (v.id && parent === v.id) {\n                v.innerCategories.forEach((k) => {\n                    let status = (target === k.code);\n                    if (status) {\n                        //console.log(\"encontrado\" + k.code);\n                        if (this.refs[k.id + \"cat\" + k.code].isActive()) {\n                            //Se tiene que desactivar\n                            status = false;\n                            buttonIsSet = false;\n                        }\n                    }\n                    this.refs[k.id + \"cat\" + k.code].setStatusTo(status);\n                    /*     if (k.informationNode) {\n                             this.refs[k.id + \"-row-info\"].value = \"\";\n                         }*/\n                });\n\n            }\n        });\n        return buttonIsSet;\n    }\n\n    _onSelectCategory(cat) {\n        //this.setState({[cat.parent]: cat.code}); Puede ser asyncrono\n        // https://reactjs.org/docs/state-and-lifecycle.html\n        //console.log(cat);\n        this.setState((state, props) => {\n            //La clave esta aqui. Si cat.code es null no seleccionará ninguno\n            const hasBeenChange = this._unselectNotChosen(cat.parent, cat.code);\n            //console.log(\"click:\" + JSON.stringify({[cat.parent]: hasBeenChange ? cat.code : \"\"}));\n            return {[cat.parent]: hasBeenChange ? cat.code : \"\"}\n        });\n        this.setState({canSave: true});\n    }\n\n    getToolState() {\n        console.log(this.state);\n    }\n\n    componentDidMount() {\n        this.props.fetchTool();\n    }\n\n    /**\n     * Clones the initial array of data, and sends a new set matrix with custom size\n     * Funny way to split a component by row in React.\n     * Crazy!\n     * @param crit criteria\n     * @returns {Array} matrix of innerCategories\n     * @private\n     */\n    _splitInnerCategories(crit) {\n        let rows = [], size = this.props.rowSize;\n        const catContainer = crit.innerCategories.slice();//gens new copy, not reference\n        /*   console.log(\"------- init\");\n           console.log(crit);\n           console.log(catContainer);*/\n        //let's consume the copy\n        while (catContainer.length > 0) {\n            rows.push(catContainer.splice(0, size));\n        }\n        /*   console.log(catContainer);\n           console.log(\"------- end\");*/\n        //console.log(rows);\n        return rows;\n    }\n\n    _renderButtonRows(crit, rows) {\n        if (crit.informationNode) {\n            return (<DynaRow>\n                <input ref={crit.id + \"-row-info\"} key={crit.id + \"-row-info\"} className={\"ant-input \"}\n                       placeholder=\"Enter text\"/>\n            </DynaRow>);\n        } else {\n            return (<>{\n                    rows.map((rowItem, index) => {\n                        return <div className={\"lince-flex-container\"} key={crit.id + \"-row\" + index}>\n                            {\n                                rowItem.map((cat) => {\n                                    return <CategoryButton category={cat} ref={cat.id + \"cat\" + cat.code}\n                                                           key={cat.id + \"cat\" + cat.code}\n                                                           onSelect={(cat) => this._onSelectCategory(cat)}/>\n                                })\n                            }\n                        </div>\n                    })\n                }</>\n            );\n        }\n    }\n\n    //m-grid-responsive-xs\n    _renderCriteria(crit) {\n        let rows = this._splitInnerCategories(crit);\n        let innerButtonRow = this._renderButtonRows(crit, rows);//<div className=\"m-grid-row\"></div>\n        let persistancePin = \"\";\n        if (crit.persistence)\n            persistancePin = <i className=\"ion-pin\"/>;\n        return (\n            <Row className=\"center-block\" key={\"cri\" + crit.id} justify=\"space-around\">\n                <Col span={24}>\n                    <Card style={{width: \"100%\", marginTop: 5}}>\n                        <Meta\n                            title={<h3 className={\"linceFont\"}>{`${crit.name} `}{persistancePin}</h3>}/>\n                        {innerButtonRow}\n                    </Card>\n                    {/* ${crit.code} -  <h4 className=\"text-center bg-yellow-gold bg-font-yellow-gold\">\n                            <span>{crit.name}</span>\n                            {persistancePin}\n                        </h4>*/}\n                </Col>\n            </Row>\n        )\n    }\n\n    /**\n     * Render buttons with adjusting rows to content. Quite tricky\n     * @param crit\n     * @returns {XML}\n     * @private\n     */\n    _renderCollapsableCriteria(crit) {\n        let rows = this._splitInnerCategories(crit);\n        let innerButtons = this._renderButtonRows(crit, rows);\n        return (\n            <div key={\"cri\" + crit.id}>\n                {innerButtons}\n            </div>\n        )\n    }\n\n    _handleCollapse(item) {\n        this.setState({nonCollapsed: item});\n    }\n\n    _keyboardActions(key, e) {\n\n        switch (key) {\n            case keyboardConfig.saveActionKey:\n                this.onSave();\n                showSuccess(\"Escena guardada\", \"\");\n                break;\n            default:\n                break;\n        }\n        console.log(`do something upon keydown event of ${key}`);\n        return false;\n    }\n\n    render() {\n        const toolData = this.props.tool;\n        const showButton = \"pull-left \" + this.state.canSave ? \"\" : \"hidden\";\n        let toolDataRender, collapseActions = \"\";\n        if (toolData.length > this.props.collapseSize) {\n            let arrkeys = [];\n            toolDataRender = (<LinceCollapse defaultActiveKey={['1']} activeKey={this.state.nonCollapsed}\n                                             onChange={this._handleCollapse}>\n                {toolData.map((v) => {\n                    let persistancePin = \"\";\n                    const panelKey = `panel_${v.id}`;\n                    arrkeys.push(panelKey);\n                    if (v.persistence)\n                        persistancePin = <i className=\"ion-pin\"/>;\n                    return <Panel header={<span>{persistancePin} {v.name}</span>} key={panelKey}>\n                        {this._renderCollapsableCriteria(v)}\n                    </Panel>\n                })}\n            </LinceCollapse>);\n            const menu = (\n                <Menu>\n                    <Menu.Item>\n                        <Button onClick={() => this.setState({nonCollapsed: arrkeys})}>\n                            Desplegar todos\n                        </Button>\n                    </Menu.Item>\n                    <Menu.Item>\n                        <Button onClick={() => this.setState({nonCollapsed: []})}>Cerrar todos</Button>\n                    </Menu.Item>\n                </Menu>\n            );\n            collapseActions = <Dropdown overlay={menu}>\n                <a className=\"ant-dropdown-link\" onClick={e => e.preventDefault()} href={\"#\"}>\n                    Acciones <DownOutlined/>\n                </a>\n            </Dropdown>\n        } else {\n            toolDataRender = toolData.map((v) => this._renderCriteria(v))\n        }\n        const scrollbarStyles = {borderRadius: 5};\n        return (\n            <LincePanelWrapper>\n                <KeyboardEventHandler\n                    handleKeys={this.props.keyboard}\n                    onKeyEvent={(key, e) => this._keyboardActions(key, e)}/>\n                <LayoutContent className={\"minPadding\"}>\n                    <Row>\n                        <Col md={5} xs={7}>\n                            <Button type=\"primary\" className={`isoAddNoteBtn ${showButton}`} size={\"small\"}\n                                    onClick={() => this.onSave()}>\n                        <span className=\"label label-warning\">\n                            <i className=\"fa fa-floppy-o\" aria-hidden=\"true\"/>&#160;\n                            {/* <Trans i18nKey=\"save\">Save</Trans>*/}\n                            <IntlMessages id=\"save\"/>\n                        </span>\n                            </Button>\n                        </Col>\n                        <Col md={14} xs={10}>\n                            {/*<h2><Trans i18nKey=\"video.headerTool\">Criteria & Categories</Trans></h2>*/}\n                            <h2 style={{paddingLeft: \"12px\"}}><IntlMessages id=\"criteria-&-categories\"/></h2>\n                        </Col>\n                        <Col md={5} xs={7}>\n                            {collapseActions}\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col span={24} style={{marginTop: \"5px\", marginBottom: \"5px\"}}>\n                            <ScrollArea speed={0.8} className=\"area\" contentClassName=\"content\" horizontal={false}\n                                        verticalScrollbarStyle={scrollbarStyles}\n                                        verticalContainerStyle={scrollbarStyles}\n                                        smoothScrolling={true}>\n                                {toolDataRender}\n                            </ScrollArea>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col span={12}>\n                            <Button type=\"primary\" className={`isoAddNoteBtn ${showButton}`} size={\"large\"}\n                                    onClick={() => this.onSave()}>\n                        <span className=\"label label-warning\">\n                        <i className=\"fa fa-floppy-o\" aria-hidden=\"true\"/>&#160;\n                            {/*<Trans i18nKey=\"save\">Save</Trans>*/}\n                            <IntlMessages id=\"save\"/>\n                        </span>\n                            </Button>\n                        </Col>\n                    </Row>\n                </LayoutContent>\n            </LincePanelWrapper>\n        );\n    }\n}\n\nLinceVideoTool.defaultProps = {\n    collapseSize: 5,\n    rowSize: 6,\n    tool: {data: [{}]},\n    keyboard: [keyboardConfig.saveActionKey]\n};\nLinceVideoTool.propTypes = {\n    collapseSize: PropTypes.number.isRequired,\n    rowSize: PropTypes.number.isRequired,\n    tool: PropTypes.array.isRequired,\n    activeRegister: PropTypes.number,\n    fetchTool: PropTypes.func.isRequired,\n    saveRegister: PropTypes.func.isRequired,\n    onSave: PropTypes.func,\n    keyboard: PropTypes.array.isRequired,\n};\nconst mapStateToProps = store => ({\n    tool: store.lince.tool,\n    activeRegister: store.lince.activeRegister,\n});\n\nexport default connect(mapStateToProps, {\n    fetchTool: fetchTool,\n    saveRegister: saveRegister\n}, null, {forwardRef: true})(LinceVideoTool);\n"],"sourceRoot":""}