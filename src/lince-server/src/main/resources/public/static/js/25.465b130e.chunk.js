(this["webpackJsonp@iso/boilerplate"]=this["webpackJsonp@iso/boilerplate"]||[]).push([[25],{1322:function(e,t,n){},1356:function(e,t,n){"use strict";n.r(t);n(627);var a=n(630),r=(n(353),n(354)),o=(n(347),n(348)),i=n(95),l=n(98),c=n(100),s=n(97),d=n(96),u=n(0),p=n.n(u),m=n(49),b=n(111),f=(n(593),n(908),n(1326)),h=(n(440),n(491)),y=n(61),v=(n(579),n(622)),g=(n(626),n(620)),E=n(368),k=n(396),x=n(374),S=n(401),j=Object(u.forwardRef)((function(e,t){var n=Array.isArray(e.children),a=n?24/e.children.length%24:24;return p.a.createElement(r.a,{ref:t},n?e.children.map((function(e,t){return p.a.createElement(o.a,{md:a,sm:a,xs:a,lg:a,key:"dynarow_".concat(t,"_").concat(Date.now())},e)})):p.a.createElement(o.a,{md:a,sm:a,xs:a,lg:a},e.children))})),O=n(39),w=n(1368),_=n(397),C=n(1321),P=n.n(C);n(1322);function N(){var e=Object(y.a)([" \n    //this one is important\n    width:100%;\n    padding: 0px 0 0 0;\n    .ant-row > div {    \n        margin-bottom: 5px;\n    }\n    .ant-card-body, .minPadding {\n        padding: 5px;\n    }  \n    .ant-card-meta{\n        border-radius: 5px;  \n        margin-bottom:3px;\n        text-align:center;\n        background: ",";\n        color: ",";\n    }\n    .linceFont{\n        color: ",";\n    }    \n    .hidden{\n        display:none;\n    }\n    /* START botonera flex */\n    .lince-flex-container {\n      display: flex;\n      flex-wrap: nowrap;      \n    }\n    .lince-flex-container > div {\n      background-color: #f1f1f1;\n      width: 100%;\n      padding:2px;\n      margin: 2px;\n      text-align: center;      \n    }\n    /* END botonera flex */\n    .lince-flex-container > div.bg-yellow-crusta.bg-font-yellow-crusta {\n        background: ",";\n    }\n    //uau! en svg se tiene que usar la propiedad fill\n    .lince-flex-container > div.bg-yellow-crusta.bg-font-yellow-crusta text{        \n        fill: ",";\n    }\n"]);return N=function(){return e},e}function T(){var e=Object(y.a)(["\n.ant-collapse-content>.ant-collapse-content-box {\n    padding:2px\n}\n.ant-collapse-header {    \n    padding: 5px 5px 5px 40px!important;\n}\n"]);return T=function(){return e},e}var z="white",R="#2d3446",I=g.a.Meta,A=v.a.Panel,V=Object(O.default)(v.a)(T()),B=Object(O.default)(S.a)(N(),R,z,z,R,z),D=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={active:!1},a._doSelect=a._doSelect.bind(Object(c.a)(a)),a.setStatusTo=a.setStatusTo.bind(Object(c.a)(a)),a.isActive=a.isActive.bind(Object(c.a)(a)),a}return Object(l.a)(n,[{key:"_doSelect",value:function(e){this.props.onSelect(this.props.category)}},{key:"setStatusTo",value:function(e){this.setState({active:e})}},{key:"isActive",value:function(){return this.state.active}},{key:"render",value:function(){var e=this,t=this.props.category,n="icon-btn btn-cri cat-group-"+t.parent+(this.state.active?" bg-yellow-crusta bg-font-yellow-crusta":""),a=t.name+(t.description?": "+t.description:"");return p.a.createElement("div",{className:n},p.a.createElement("a",{key:t.id,className:n,onClick:function(t){return e._doSelect(t)},title:a,"data-code":t.code,"data-id":t.id,"data-group":t.name,style:{width:"100%"}},p.a.createElement("svg",{viewBox:"0 0 50 50",width:"100%",height:"40"},p.a.createElement("text",{x:"0",y:"32"},t.code))))}}]),n}(u.Component),M=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={canSave:!1,moment:.1,categories:[],nonCollapsed:[]},a._onSelectCategory=a._onSelectCategory.bind(Object(c.a)(a)),a._handleCollapse=a._handleCollapse.bind(Object(c.a)(a)),a._renderCriteria=a._renderCriteria.bind(Object(c.a)(a)),a._unselectNotChosen=a._unselectNotChosen.bind(Object(c.a)(a)),a.loadSceneData=a.loadSceneData.bind(Object(c.a)(a)),a.getToolState=a.getToolState.bind(Object(c.a)(a)),a.setTime=a.setTime.bind(Object(c.a)(a)),a.remoteSave=a.remoteSave.bind(Object(c.a)(a)),a.onSave=a.props.onSave.bind(Object(c.a)(a)),a}return Object(l.a)(n,[{key:"remoteSave",value:function(e){var t=this,n=[];this.props.tool.forEach((function(e){try{if(e.informationNode){var a=t.refs[e.id+"-row-info"].value;n.push({id:e.id,code:e.code+"-DATA",nodeInformation:a})}else e.innerCategories.forEach((function(e){t.refs[e.id+"cat"+e.code].state.active&&n.push({id:e.id,code:e.code})}))}catch(r){console.log("No criteria value for id ".concat(e.id,", code ").concat(e.code," & name ").concat(e.name))}})),this.setTime(e),this.setState({categories:n});var a={moment:e,categories:n};this.props.saveRegister(a),this._unselectNotPersistence()}},{key:"clearInputs",value:function(){var e=this;this.props.tool.forEach((function(t){try{t.informationNode&&(e.refs[t.id+"-row-info"].value="")}catch(n){}}))}},{key:"loadSceneData",value:function(e){var t=this;console.log(e),this.clearInputs(),this._unselectNotPersistence(!0),e.register.forEach((function(e){t.props.tool.forEach((function(n){try{n.id&&e.parent===n.id&&(n.informationNode?t.refs[n.id+"-row-info"].value=e.nodeInformation:n.innerCategories.forEach((function(n){var a=e.code===n.code,r=t.refs[n.id+"cat"+n.code];r&&(r.setStatusTo(a),t.setState({[n.parent]:n.code}))})))}catch(a){console.log("loading rule err "+a)}}))})),this.setTime(e.videoTime)}},{key:"setTime",value:function(e){this.setState({moment:e})}},{key:"_unselectNotPersistence",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.tool.forEach((function(n){if((!1===n.persistence||t)&&(n.innerCategories.forEach((function(t){var n=e.refs[t.id+"cat"+t.code];n&&n.setStatusTo(!1)})),n.informationNode)){var a=e.refs[n.id+"-row-info"];a&&(a.value="")}}))}},{key:"_unselectNotChosen",value:function(e,t){var n=this,a=!0;return this.props.tool.forEach((function(r){r.id&&e===r.id&&r.innerCategories.forEach((function(e){var r=t===e.code;r&&n.refs[e.id+"cat"+e.code].isActive()&&(r=!1,a=!1),n.refs[e.id+"cat"+e.code].setStatusTo(r)}))})),a}},{key:"_onSelectCategory",value:function(e){var t=this;this.setState((function(n,a){var r=t._unselectNotChosen(e.parent,e.code);return{[e.parent]:r?e.code:""}})),this.setState({canSave:!0})}},{key:"getToolState",value:function(){console.log(this.state)}},{key:"componentDidMount",value:function(){this.props.fetchTool()}},{key:"_splitInnerCategories",value:function(e){for(var t=[],n=this.props.rowSize,a=e.innerCategories.slice();a.length>0;)t.push(a.splice(0,n));return t}},{key:"_renderButtonRows",value:function(e,t){var n=this;return e.informationNode?p.a.createElement(j,null,p.a.createElement("input",{ref:e.id+"-row-info",key:e.id+"-row-info",className:"ant-input ",placeholder:"Enter text"})):p.a.createElement(p.a.Fragment,null,t.map((function(t,a){return p.a.createElement("div",{className:"lince-flex-container",key:e.id+"-row"+a},t.map((function(e){return p.a.createElement(D,{category:e,ref:e.id+"cat"+e.code,key:e.id+"cat"+e.code,onSelect:function(e){return n._onSelectCategory(e)}})})))})))}},{key:"_renderCriteria",value:function(e){var t=this._splitInnerCategories(e),n=this._renderButtonRows(e,t),a="";return e.persistence&&(a=p.a.createElement("i",{className:"ion-pin"})),p.a.createElement(r.a,{className:"center-block",key:"cri"+e.id,justify:"space-around"},p.a.createElement(o.a,{span:24},p.a.createElement(g.a,{style:{width:"100%",marginTop:5}},p.a.createElement(I,{title:p.a.createElement("h3",{className:"linceFont"},"".concat(e.name," "),a)}),n)))}},{key:"_renderCollapsableCriteria",value:function(e){var t=this._splitInnerCategories(e),n=this._renderButtonRows(e,t);return p.a.createElement("div",{key:"cri"+e.id},n)}},{key:"_handleCollapse",value:function(e){this.setState({nonCollapsed:e})}},{key:"render",value:function(){var e,t=this,n=this.props.tool,a="";if(n.length>this.props.collapseSize){var i=[];e=p.a.createElement(V,{defaultActiveKey:["1"],activeKey:this.state.nonCollapsed,onChange:this._handleCollapse},n.map((function(e){var n="",a="panel_".concat(e.id);return i.push(a),e.persistence&&(n=p.a.createElement("i",{className:"ion-pin"})),p.a.createElement(A,{header:p.a.createElement("span",null,n," ",e.name),key:a},t._renderCollapsableCriteria(e))})));var l=p.a.createElement(h.a,null,p.a.createElement(h.a.Item,null,p.a.createElement(k.a,{onClick:function(){return t.setState({nonCollapsed:i})}},"Desplegar todos")),p.a.createElement(h.a.Item,null,p.a.createElement(k.a,{onClick:function(){return t.setState({nonCollapsed:[]})}},"Cerrar todos")));a=p.a.createElement(f.a,{overlay:l},p.a.createElement("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},href:"#"},"Acciones ",p.a.createElement(w.a,null)))}else e=n.map((function(e){return t._renderCriteria(e)}));var c={borderRadius:5};return p.a.createElement(B,null,p.a.createElement(x.a,{className:"minPadding"},p.a.createElement(r.a,null,p.a.createElement(o.a,{md:5,xs:7},p.a.createElement(k.a,{type:"primary",className:"isoAddNoteBtn ".concat(""),size:"small",onClick:function(){return t.onSave()}},p.a.createElement("span",{className:"label label-warning"},p.a.createElement("i",{className:"fa fa-floppy-o","aria-hidden":"true"}),"\xa0",p.a.createElement(_.a,{id:"save"})))),p.a.createElement(o.a,{md:14,xs:10},p.a.createElement("h2",{style:{paddingLeft:"12px"}},p.a.createElement(_.a,{id:"criteria-&-categories"}))),p.a.createElement(o.a,{md:5,xs:7},a)),p.a.createElement(r.a,null,p.a.createElement(o.a,{span:24,style:{marginTop:"5px",marginBottom:"5px"}},p.a.createElement(P.a,{speed:.8,className:"area",contentClassName:"content",horizontal:!1,verticalScrollbarStyle:c,verticalContainerStyle:c,smoothScrolling:!0},e))),p.a.createElement(r.a,null,p.a.createElement(o.a,{span:12},p.a.createElement(k.a,{type:"primary",className:"isoAddNoteBtn ".concat(""),size:"large",onClick:function(){return t.onSave()}},p.a.createElement("span",{className:"label label-warning"},p.a.createElement("i",{className:"fa fa-floppy-o","aria-hidden":"true"}),"\xa0",p.a.createElement(_.a,{id:"save"})))))))}}]),n}(u.Component);M.defaultProps={collapseSize:5,rowSize:6,tool:{data:[{}]}};var K=Object(m.b)((function(e){return{tool:e.lince.tool}}),{fetchTool:E.m,saveRegister:E.p},null,{forwardRef:!0})(M),L=n(869),F=n(899),H=n(619),Y=n(377),W=n(410);W.a.initialize(Y.a.google.analyticsKey),W.a.pageview(window.location.pathname+window.location.search);var q=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={date:new Date,tool:{}},a._doRegisterPlay=a._doRegisterPlay.bind(Object(c.a)(a)),a._doSave=a._doSave.bind(Object(c.a)(a)),a}return Object(l.a)(n,[{key:"_doRegisterPlay",value:function(e){this.refs.innerPlayer.doPlayScene(e.videoTime),this.refs.linceTool.loadSceneData(e)}},{key:"_doSave",value:function(){var e=this.refs.innerPlayer.getCurrentTime();this.refs.linceTool.remoteSave(e),this.refs.innerPlayer._doPlay()}},{key:"render",value:function(){return p.a.createElement(m.a,{store:b.a},p.a.createElement(a.a,null,p.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%"}},p.a.createElement(H.a,{defaultSize:{width:"65%",height:"100%"},minWidth:"300",minHeight:"600"},p.a.createElement(r.a,null,p.a.createElement(o.a,{span:24},p.a.createElement(F.a,{ref:"innerPlayer"}))),p.a.createElement(r.a,null,p.a.createElement(o.a,{span:24},p.a.createElement(L.a,{ref:"register",onPlayRegister:this._doRegisterPlay})))),p.a.createElement("div",{style:{width:"100%"}},p.a.createElement(K,{ref:"linceTool",tool:this.state.tool,onSave:this._doSave})))))}}]),n}(u.Component);t.default=q},361:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(61);function r(){var e=Object(a.a)(["\n  padding: 40px 20px;\n  display: flex;\n  flex-flow: row wrap;\n  overflow: hidden;\n\n  @media only screen and (max-width: 767px) {\n    padding: 50px 20px;\n  }\n\n  @media (max-width: 580px) {\n    padding: 15px;\n  }\n"]);return r=function(){return e},e}var o=n(39).default.div(r())},374:function(e,t,n){"use strict";var a=n(61),r=n(39),o=n(48);function i(){var e=Object(a.a)(["\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  height: 100%;\n"]);return i=function(){return e},e}var l=r.default.div(i(),Object(o.palette)("border",0));t.a=l},396:function(e,t,n){"use strict";n(360);var a=n(357),r=n(61),o=n(39),i=n(48),l=n(384);function c(){var e=Object(r.a)(["\n  &.ant-btn-group {\n    .ant-btn {\n      margin: 0;\n      margin-right: 0;\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 1px solid transparent;\n      border-color: ",";\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 8px;\n      font-size: 14px;\n      border-radius: 0;\n      height: 36px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      ",";\n\n      &:hover {\n        border-color: ",";\n      }\n\n      &.ant-btn-dashed {\n        border-style: dashed;\n\n        &:hover {\n          border-color: ",";\n        }\n      }\n\n      &.ant-btn-primary {\n        border-color: ",";\n\n        &:hover {\n          border-color: ",";\n        }\n      }\n    }\n\n    > .ant-btn:first-child:not(:last-child) {\n      border-radius: ",";\n    }\n\n    > .ant-btn:last-child:not(:first-child) {\n      border-radius: ",";\n    }\n\n    .ant-btn-primary:last-child:not(:first-child),\n    .ant-btn-primary + .ant-btn-primary {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn-primary:first-child:not(:last-child) {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn + .ant-btn,\n    + .ant-btn {\n      margin-left: "," !important;\n      margin-right: "," !important;\n    }\n\n    &.ant-btn-group-lg {\n      > .ant-btn {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n\n    &.ant-btn-group-sm {\n      > .ant-btn {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n    }\n  }\n\n  &.ant-btn-group + &.ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"]);return c=function(){return e},e}function s(){var e=Object(r.a)(["\n  &.ant-btn {\n    display: inline-block;\n    margin-bottom: 0;\n    font-weight: 500;\n    text-align: center;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    background-image: none;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    line-height: 1.5;\n    padding: 0 25px;\n    font-size: 14px;\n    border-radius: 4px;\n    height: 36px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    position: relative;\n    color: ",";\n    border-color: ",";\n    ",";\n\n    &:hover {\n      border-color: ",";\n      color: ",";\n    }\n\n    > .anticon + span,\n    > span + .anticon {\n      margin: ",";\n    }\n\n    .anticon-right {\n      transform: ",";\n    }\n\n    .anticon-left {\n      transform: ",";\n    }\n\n    &.ant-btn-primary {\n      background-color: ",";\n      border-color: ",";\n\n      &:hover {\n        background-color: ",";\n        border-color: ",";\n        color: #fff;\n      }\n    }\n\n    &.ant-btn-sm {\n      padding: 0 15px;\n      height: 28px;\n      font-size: 12px;\n\n      &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline) {\n        padding: ",";\n        .anticon {\n          margin: ",";\n        }\n      }\n    }\n\n    &.ant-btn-lg {\n      padding: 0 35px;\n      font-size: 14px;\n      height: 42px;\n    }\n\n    &.ant-btn-primary {\n      color: #ffffff;\n    }\n\n    &.ant-btn-dashed {\n      border-style: dashed;\n      border-color: ",";\n\n      &:hover {\n        color: ",";\n        border-color: ",";\n      }\n    }\n\n    &.ant-btn-danger {\n      background-color: ",";\n      border-color: ",";\n      color: #ffffff;\n\n      &:hover {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      &.ant-btn-background-ghost {\n        color: ",";\n        background-color: transparent;\n        border-color: ",";\n\n        &:hover {\n          color: ",";\n          border-color: ",";\n        }\n      }\n    }\n\n    &.ant-btn-circle,\n    &.ant-btn-circle-outline {\n      width: 35px;\n      padding: 0;\n      font-size: 14px;\n      border-radius: 50%;\n      height: 35px;\n\n      &.ant-btn-sm {\n        padding: 0;\n        height: 28px;\n        width: 28px;\n        font-size: 12px;\n      }\n\n      &.ant-btn-lg {\n        padding: 0;\n        font-size: 14px;\n        height: 42px;\n        width: 42px;\n      }\n    }\n\n    &.ant-btn.disabled,\n    &.ant-btn[disabled],\n    &.ant-btn.disabled:hover,\n    &.ant-btn[disabled]:hover,\n    &.ant-btn.disabled:focus,\n    &.ant-btn[disabled]:focus,\n    &.ant-btn.disabled:active,\n    &.ant-btn[disabled]:active,\n    &.ant-btn.disabled.active,\n    &.ant-btn[disabled].active {\n      color: ",";\n      background-color: #f7f7f7;\n      border-color: ",";\n      cursor: not-allowed;\n    }\n\n    &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline)\n      .anticon {\n      margin: ",";\n    }\n\n    &.isoButton {\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 0;\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 25px;\n      font-size: 13px;\n      border-radius: 4px;\n      height: 35px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      color: #ffffff;\n      background-color: ",";\n      ",";\n\n      &:hover {\n        background-color: ",";\n      }\n\n      &.isoBtnSm {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n\n      &.isoBtnLg {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n  }\n\n  + .ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"]);return s=function(){return e},e}var d,u=n(351),p=(d=a.a,Object(o.default)(d)(s(),Object(i.palette)("text",1),Object(i.palette)("border",0),Object(l.c)(),Object(i.palette)("primary",0),Object(i.palette)("primary",0),(function(e){return"rtl"===e["data-rtl"]?"0 0.5em 0 0":"0 0 0 0.5em"}),(function(e){return"rtl"===e["data-rtl"]?"rotate(180deg)":"rotate(0)"}),(function(e){return"rtl"===e["data-rtl"]?"rotate(180deg)":"rotate(0)"}),Object(i.palette)("primary",0),Object(i.palette)("primary",0),Object(i.palette)("primary",10),Object(i.palette)("primary",10),(function(e){return"rtl"===e["data-rtl"]?"0 24px 0 15px":"0 15px 0 24px"}),(function(e){return"rtl"===e["data-rtl"]?"0 -17px 0 0":"0 0 0 -17px"}),Object(i.palette)("border",1),Object(i.palette)("primary",0),Object(i.palette)("primary",0),Object(i.palette)("error",0),Object(i.palette)("error",0),Object(i.palette)("error",2),Object(i.palette)("error",2),Object(i.palette)("error",0),Object(i.palette)("error",0),Object(i.palette)("error",2),Object(i.palette)("error",2),Object(i.palette)("grayscale",2),Object(i.palette)("border",0),(function(e){return"rtl"===e["data-rtl"]?"0 -14px 0 0":"0 0 0 -14px"}),Object(i.palette)("primary",0),Object(l.c)(),Object(i.palette)("primary",2),(function(e){return"rtl"===e["data-rtl"]?"0":"-1px"}),(function(e){return"rtl"===e["data-rtl"]?"-1px":"0"}))),m=Object(u.a)(p),b=function(e){return Object(o.default)(e)(c(),Object(i.palette)("border",1),Object(l.c)(),Object(i.palette)("primary",0),Object(i.palette)("primary",0),Object(i.palette)("primary",0),Object(i.palette)("primary",10),(function(e){return"rtl"===e["data-rtl"]?"0 4px 4px 0":"4px 0 0 4px"}),(function(e){return"rtl"===e["data-rtl"]?"4px 0 0 4px":"0 4px 4px 0"}),(function(e){return"rtl"===e["data-rtl"]?Object(i.palette)("primary",0):Object(i.palette)("primary",2)}),(function(e){return"rtl"===e["data-rtl"]?Object(i.palette)("primary",2):Object(i.palette)("primary",0)}),(function(e){return"rtl"===e["data-rtl"]?Object(i.palette)("primary",2):Object(i.palette)("primary",0)}),(function(e){return"rtl"===e["data-rtl"]?Object(i.palette)("primary",0):Object(i.palette)("primary",2)}),(function(e){return"rtl"===e["data-rtl"]?"0":"-1px"}),(function(e){return"rtl"===e["data-rtl"]?"-1px":"0"}),(function(e){return"rtl"===e["data-rtl"]?"0":"-1px"}),(function(e){return"rtl"===e["data-rtl"]?"-1px":"0"}))}(a.a.Group);Object(u.a)(b),t.a=m},401:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(361);t.a=function(e){return r.a.createElement(o.a,Object.assign({className:null!=e.className?"".concat(e.className," isoLayoutContentWrapper"):"isoLayoutContentWrapper"},e),e.children)}},593:function(e,t,n){"use strict";var a=n(901),r=n(867),o=n(868),i=n(1079);a.a.use(r.a).use(o.a).use(i.d).init({preload:["es","en"],initImmediate:!1,load:"languageOnly",detection:{lookupQuerystring:"lang"},fallbackLng:{"es-ES":["es"],"en-US":["en"],default:["es"]},debug:!0,react:{wait:!0,bindI18n:"languageChanged loaded"},interpolation:{escapeValue:!1}});a.a},619:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),o=n(902),i={zIndex:"9999!important",borderRight:"solid 5px #ddd",margin:"5px 5 5 5"};function l(e){return r.a.createElement(o.a,Object.assign({},e,{style:i}))}},869:function(e,t,n){"use strict";var a=n(95),r=n(98),o=n(100),i=n(97),l=n(96),c=n(0),s=n.n(c),d=n(49),u=n(368),p=n(513),m=n.n(p),b=n(1371),f=n(649),h=n.n(f),y=n(514),v=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={selected:-1},r.clearSelection=r.clearSelection.bind(Object(o.a)(r)),r._deleteScene=r._deleteScene.bind(Object(o.a)(r)),r._playScene=r._playScene.bind(Object(o.a)(r)),r}return Object(r.a)(n,[{key:"clearSelection",value:function(){this.setState({selected:-1})}},{key:"_deleteScene",value:function(e){var t={moment:e.row.videoTime};this.props.deleteRegister(t)}},{key:"_playScene",value:function(e){var t=this;this.setState({selected:e.row.id}),this.props.onPlayRegister(e.row),this.forceUpdate(),setTimeout((function(){t.clearSelection()}),1e4)}},{key:"componentDidMount",value:function(){this.props.fetchTool(),this.props.fetchRegister(),this._isMounted=!0}},{key:"render",value:function(){var e=this,t=[{name:s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-odnoklassniki"}),"\xa0",s.a.createElement(b.a,{i18nKey:"action"},"Action")),sortable:!1,minWidth:"108px",cell:function(t){return s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"btn red btn-playscene",onClick:function(){return e._playScene({row:t})}},s.a.createElement("i",{className:"fa fa-share"}),"\xa0"),"\xa0\xa0",s.a.createElement("button",{type:"button",className:"btn blue btn-deletescene",onClick:function(){return e._deleteScene({row:t})}},s.a.createElement("i",{className:"fa fa-trash-o"})))}},{name:s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-hourglass-o"}),"T (sec)"),selector:"videoTime",sortable:!0,format:function(e){return Object(y.a)(e.videoTime)}},{name:s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-television"})," Frame"),hide:"xs",selector:"frames",sortable:!0}];this.props.fullMode&&this.props.tool.forEach((function(e){var n=e.id;t.push({name:s.a.createElement("span",null,e.code),cell:function(e){var t="";return e.register.forEach((function(e){e.parent===n&&(null!==e.nodeInformation?(t=e.nodeInformation.substring(0,10),e.nodeInformation.length>10&&(t+="...")):t=e.code)})),s.a.createElement("span",null,t)}})})),t.push({name:s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-calendar-check-o"}),"\xa0",s.a.createElement(b.a,{i18nKey:"date"},"Date")),hide:"xs",sortable:!0,selector:"saveDate",cell:function(e){return s.a.createElement(h.a,{format:"DD/MM/YY HH:mm",parse:"DD-MM-YYYY HH:mm:ss",date:e.saveDate})}});var n=this.state?this.state.selected:-1,a=[{when:function(e){return e.id===n},style:{backgroundColor:"rgba(248, 148, 6, 0.9)",color:"black","&:hover":{cursor:"pointer"}}}];return s.a.createElement(m.a,{noHeader:!0,dense:!0,fixedHeader:!0,conditionalRowStyles:a,columns:t,data:this.props.register,defaultSortField:"videoTime"})}}]),n}(c.Component);v.defaultProps={fullMode:!0};var g=Object(d.b)((function(e){return{tool:e.lince.tool,register:e.lince.register}}),{fetchRegister:u.j,fetchTool:u.m,deleteRegister:u.b},null,{forwardRef:!0})(v);t.a=Object(c.forwardRef)((function(e,t){return s.a.createElement(g,Object.assign({},e,{myForwardedRef:t}))}))},884:function(e,t,n){e.exports=n.p+"static/media/LinceKeys.6edf0af9.jpg"},899:function(e,t,n){"use strict";n(353);var a=n(354),r=(n(347),n(348)),o=n(95),i=n(98),l=n(100),c=n(97),s=n(96),d=n(0),u=n.n(d),p=n(49),m=n(368),b=n(870),f=(n(440),n(491)),h=n(1371),y=n(399),v=n(398),g=n(884),E=n.n(g),k=n(414),x=n(631),S=f.a.SubMenu,j=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClick=function(e){switch(e.key){case"play":a.onPlay();break;case"pause":a.onPause();break;case"stop":a.onStop();break;case"mute":a.onSoundTo();break;case"sync":a.onSync();break;case"speed:02":a.onSetPlayBack(.2),a.setState({speed:e.key});break;case"speed:05":a.onSetPlayBack(.5),a.setState({speed:e.key});break;case"speed:10":a.onSetPlayBack(1),a.setState({speed:e.key});break;case"speed:20":a.onSetPlayBack(2),a.setState({speed:e.key});break;case"view:1":a.onResize(24),a.setState({video:e.key});break;case"view:2":a.setState({video:e.key}),a.onResize(12);break;case"view:3":a.setState({video:e.key}),a.onResize(8);break;default:var t=u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,"Press this keys and experience with lince player in a new way:"),u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement("b",null,"q"),": Play"),u.a.createElement("li",null,u.a.createElement("b",null,"w"),": Pause"),u.a.createElement("li",null,u.a.createElement("b",null,"e"),": Stop"),u.a.createElement("li",null,u.a.createElement("b",null,"a"),": Speed to 1x"),u.a.createElement("li",null,u.a.createElement("b",null,"s"),": Speed to 0.2x"),u.a.createElement("li",null,u.a.createElement("b",null,"d"),": Jump back 5 secs"),u.a.createElement("li",null,u.a.createElement("b",null,"f"),": Jump forward 5 secs"),u.a.createElement("li",null,u.a.createElement("b",null,"1"),": Change view to 1 video per row"),u.a.createElement("li",null,u.a.createElement("b",null,"2"),": Change view to 2 video per row"),u.a.createElement("li",null,u.a.createElement("b",null,"3"),": Change view to 3 video per row")),u.a.createElement("img",{src:E.a,alt:"lince keys",width:"100%"}));Object(k.a)("Keyboard shortcuts for lince player",t)}return a.setState({current:e.key}),!1},a.onSoundTo=a.props.onSoundTo.bind(Object(l.a)(a)),a.onResize=a.props.onResize.bind(Object(l.a)(a)),a.onSetPlayBack=a.props.onSetPlayBack.bind(Object(l.a)(a)),a.onStop=a.props.onStop.bind(Object(l.a)(a)),a.onPause=a.props.onPause.bind(Object(l.a)(a)),a.onSync=a.props.onSync.bind(Object(l.a)(a)),a.onPlay=a.props.onPlay.bind(Object(l.a)(a)),a.state={speed:"speed:10",video:"view:2"},a}return Object(i.a)(n,[{key:"render",value:function(){return u.a.createElement(x.b,{onClick:this.handleClick,mode:"horizontal",className:"font-green-sharp",ref:"linceMenu",theme:"dark",selectedKeys:[this.state.speed,this.state.video,this.state.current]},u.a.createElement(f.a.Item,{key:"shortcuts",selectable:"false"},u.a.createElement("b",null,u.a.createElement(h.a,{i18nKey:"video.synchronizedActions",className:"isoWidgetLabel"},"Synchronized actions"),"\xa0",u.a.createElement("i",{className:"ion-information-circled"}))),u.a.createElement(f.a.Item,{key:"play"},u.a.createElement("i",{className:"ion-play"})),u.a.createElement(f.a.Item,{key:"pause"},u.a.createElement("i",{className:"ion-pause"})),u.a.createElement(f.a.Item,{key:"stop"},u.a.createElement("i",{className:"ion-stop"})),u.a.createElement(S,{title:u.a.createElement("i",{className:"ion-clock"})},u.a.createElement(f.a.Item,{key:"speed:02"},"0.2 x"),u.a.createElement(f.a.Item,{key:"speed:05"},"0.5 x"),u.a.createElement(f.a.Item,{key:"speed:10"},"1 x"),u.a.createElement(f.a.Item,{key:"speed:20"},"2 x")),u.a.createElement(f.a.Item,{key:"mute"},u.a.createElement(v.a,{icon:y.c}),"\xa0",u.a.createElement("span",null,"MUTE")),u.a.createElement(f.a.Item,{key:"sync"},u.a.createElement("i",{className:"ion-refresh"}),"\xa0",u.a.createElement("span",null,"SINC")),u.a.createElement(S,{title:u.a.createElement(v.a,{icon:y.g})},u.a.createElement(f.a.Item,{key:"view:1"},"1 video per row"),u.a.createElement(f.a.Item,{key:"view:2"},"2 video per row"),u.a.createElement(f.a.Item,{key:"view:3"},"3 video per row")))}}]),n}(d.Component),O=(n(885),n(886)),w=n.n(O),_=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={mute:!0,size:a.props.defaultSize},a._doVideoSync=a._doVideoSync.bind(Object(l.a)(a)),a._doPlay=a._doPlay.bind(Object(l.a)(a)),a._doPause=a._doPause.bind(Object(l.a)(a)),a._doMute=a._doMute.bind(Object(l.a)(a)),a._doPlayback=a._doPlayback.bind(Object(l.a)(a)),a._doResize=a._doResize.bind(Object(l.a)(a)),a._doStop=a._doStop.bind(Object(l.a)(a)),a.getCurrentTime=a.getCurrentTime.bind(Object(l.a)(a)),a.getVideoLength=a.getVideoLength.bind(Object(l.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchVideos()}},{key:"doPlayScene",value:function(e){this._applyAllVideos((function(t,n){n.pause(),n.seek(e)}))}},{key:"getCurrentTime",value:function(){var e=this,t=.1;return this._applyAllVideos((function(n,a){n!==e.props.videos[0]||(t=a.getState().player.currentTime)})),t}},{key:"getVideoLength",value:function(){var e=this,t=.1;return this.props.videos&&this.props.videos.length>0&&this._applyAllVideos((function(n,a){n!==e.props.videos[0]||(t=a.getState().player.duration)})),t}},{key:"_applyAllVideos",value:function(e){var t=this;this.props.videos.map((function(n,a){return e(n,t.refs["video"+n.id])}))}},{key:"_doVideoSync",value:function(){var e,t=!0;this._applyAllVideos((function(n,a){t?(t=!t,e=a.getState().player.currentTime):a.seek(e)}))}},{key:"_doPlay",value:function(){this._applyAllVideos((function(e,t){t.play()})),console.log("action"+this.getCurrentTime())}},{key:"_doPause",value:function(){this._applyAllVideos((function(e,t){t.pause()}))}},{key:"_doStop",value:function(){this._applyAllVideos((function(e,t){t.pause(),t.seek(0)}))}},{key:"_doMute",value:function(){var e=this;this.setState({mute:!this.state.mute}),this._applyAllVideos((function(t,n){n.muted=e.state.mute}))}},{key:"_doPlayback",value:function(e){this._applyAllVideos((function(t,n){n.playbackRate=e}))}},{key:"_doResize",value:function(e){this.setState({size:e})}},{key:"_renderVideo",value:function(e,t,n){var a=this.state.size;return u.a.createElement(r.a,{key:e,span:a},u.a.createElement(b.Player,{ref:"video"+e,autoPlay:!1,playsInline:!0},u.a.createElement("source",{src:m.a+t,type:n}),u.a.createElement(b.ControlBar,{autoHide:!1},u.a.createElement(b.VolumeMenuButton,{vertical:!0}),u.a.createElement(b.PlaybackRateMenuButton,{rates:[5,2,1,.5,.1]}),u.a.createElement(b.ReplayControl,{seconds:5,order:2.1}))))}},{key:"_keyboardActions",value:function(e,t){switch(e){case"q":this._doPlay();break;case"w":this._doPause();break;case"e":this._doStop();break;case"1":this._doResize(24);break;case"2":this._doResize(12);break;case"3":this._doResize(8);break;case"a":this._doPlayback(1);break;case"s":this._doPlayback(.5);break;case"d":this.doPlayScene(this.getCurrentTime()-5);break;case"f":this.doPlayScene(this.getCurrentTime()+5)}return!1}},{key:"render",value:function(){var e=this,t=this.props.videos;return u.a.createElement(u.a.Fragment,null,u.a.createElement(w.a,{handleKeys:this.props.keyboard,onKeyEvent:function(t,n){return e._keyboardActions(t,n)}}),u.a.createElement(a.a,null,u.a.createElement(r.a,{span:24},u.a.createElement(j,{onSoundTo:this._doMute,onSync:this._doVideoSync,onSetPlayBack:this._doPlayback,onStop:this._doStop,onPause:this._doPause,onPlay:this._doPlay,onResize:this._doResize}))),u.a.createElement(a.a,null,t.map((function(t){return e._renderVideo(t.id,t.url,t.type)}))))}}]),n}(d.Component);_.defaultProps={autoPlay:!1,defaultSize:12,keyboard:["q","w","e","1","2","3","s","a","d","f"]};t.a=Object(p.b)((function(e){return{videos:e.lince.videos}}),{fetchVideos:m.n},null,{forwardRef:!0})(_)}}]);
//# sourceMappingURL=25.465b130e.chunk.js.map