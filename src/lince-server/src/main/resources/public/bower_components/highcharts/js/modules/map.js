/*
 Highmaps JS v6.1.0 (2018-04-13)
 Highmaps as a plugin for Highcharts or Highstock.

 (c) 2011-2017 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(w){"object"===typeof module&&module.exports?module.exports=w:w(Highcharts)})(function(w){(function(a){var h=a.addEvent,f=a.Axis,l=a.each,c=a.pick;h(f,"getSeriesExtremes",function(){var a=[];this.isXAxis&&(l(this.series,function(p,c){p.useMapGeometry&&(a[c]=p.xData,p.xData=[])}),this.seriesXData=a)});h(f,"afterGetSeriesExtremes",function(){var a=this.seriesXData,n,f,t;this.isXAxis&&(n=c(this.dataMin,Number.MAX_VALUE),f=c(this.dataMax,-Number.MAX_VALUE),l(this.series,function(g,b){g.useMapGeometry&&
(n=Math.min(n,c(g.minX,n)),f=Math.max(f,c(g.maxX,f)),g.xData=a[b],t=!0)}),t&&(this.dataMin=n,this.dataMax=f),delete this.seriesXData)});h(f,"afterSetAxisTranslation",function(){var a=this.chart,c;c=a.plotWidth/a.plotHeight;var a=a.xAxis[0],f;"yAxis"===this.coll&&void 0!==a.transA&&l(this.series,function(a){a.preserveAspectRatio&&(f=!0)});if(f&&(this.transA=a.transA=Math.min(this.transA,a.transA),c/=(a.max-a.min)/(this.max-this.min),c=1>c?this:a,a=(c.max-c.min)*c.transA,c.pixelPadding=c.len-a,c.minPixelPadding=
c.pixelPadding/2,a=c.fixTo)){a=a[1]-c.toValue(a[0],!0);a*=c.transA;if(Math.abs(a)>c.minPixelPadding||c.min===c.dataMin&&c.max===c.dataMax)a=0;c.minPixelPadding-=a}});h(f,"render",function(){this.fixTo=null})})(w);(function(a){var h=a.addEvent,f=a.Axis,l=a.Chart,c=a.color,p,n=a.each,u=a.extend,t=a.isNumber,g=a.Legend,b=a.LegendSymbolMixin,d=a.noop,k=a.merge,q=a.pick;a.ColorAxis||(p=a.ColorAxis=function(){this.init.apply(this,arguments)},u(p.prototype,f.prototype),u(p.prototype,{defaultColorAxisOptions:{lineWidth:0,
minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(f.prototype.keepProps),init:function(a,b){var e="vertical"!==a.options.legend.layout,r;this.coll="colorAxis";r=k(this.defaultColorAxisOptions,{side:e?2:1,
reversed:!e},b,{opposite:!e,showEmpty:!1,title:null,visible:a.options.legend.enabled});f.prototype.init.call(this,a,r);b.dataClasses&&this.initDataClasses(b);this.initStops();this.horiz=e;this.zoomEnabled=!1;this.defaultLegendLength=200},initDataClasses:function(a){var b,e=0,r=this.chart.options.chart.colorCount,v=this.options,d=a.dataClasses.length;this.dataClasses=b=[];this.legendItems=[];n(a.dataClasses,function(a,m){a=k(a);b.push(a);"category"===v.dataClassColor?(a.colorIndex=e,e++,e===r&&(e=
0)):a.color=c(v.minColor).tweenTo(c(v.maxColor),2>d?.5:m/(d-1))})},setTickPositions:function(){if(!this.dataClasses)return f.prototype.setTickPositions.call(this)},initStops:function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];n(this.stops,function(a){a.color=c(a[1])})},setOptions:function(a){f.prototype.setOptions.call(this,a);this.options.crosshair=this.options.marker},setAxisSize:function(){var a=this.legendSymbol,b=this.chart,e=b.options.legend||{},x,
v;a?(this.left=e=a.attr("x"),this.top=x=a.attr("y"),this.width=v=a.attr("width"),this.height=a=a.attr("height"),this.right=b.chartWidth-e-v,this.bottom=b.chartHeight-x-a,this.len=this.horiz?v:a,this.pos=this.horiz?e:x):this.len=(this.horiz?e.symbolWidth:e.symbolHeight)||this.defaultLegendLength},normalizedValue:function(a){this.isLog&&(a=this.val2lin(a));return 1-(this.max-a)/(this.max-this.min||1)},toColor:function(a,b){var e=this.stops,m,r,d=this.dataClasses,k,c;if(d)for(c=d.length;c--;){if(k=d[c],
m=k.from,e=k.to,(void 0===m||a>=m)&&(void 0===e||a<=e)){b&&(b.dataClass=c,b.colorIndex=k.colorIndex);break}}else{a=this.normalizedValue(a);for(c=e.length;c--&&!(a>e[c][0]););m=e[c]||e[c+1];e=e[c+1]||m;a=1-(e[0]-a)/(e[0]-m[0]||1);r=m.color.tweenTo(e.color,a)}return r},getOffset:function(){var a=this.legendGroup,b=this.chart.axisOffset[this.side];a&&(this.axisParent=a,f.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=
b)},setLegendColor:function(){var a,b=this.reversed;a=b?1:0;b=b?0:1;a=this.horiz?[a,0,b,0]:[0,b,0,a];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:this.stops}},drawLegendSymbol:function(a,b){var e=a.padding,m=a.options,d=this.horiz,k=q(m.symbolWidth,d?this.defaultLegendLength:12),r=q(m.symbolHeight,d?12:this.defaultLegendLength),c=q(m.labelPadding,d?16:30),m=q(m.itemDistance,10);this.setLegendColor();b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,k,r).attr({zIndex:1}).add(b.legendGroup);
this.legendItemWidth=k+e+(d?m:c);this.legendItemHeight=r+e+(d?c:0)},setState:function(a){n(this.series,function(b){b.setState(a)})},visible:!0,setVisible:d,getSeriesExtremes:function(){var a=this.series,b=a.length;this.dataMin=Infinity;for(this.dataMax=-Infinity;b--;)void 0!==a[b].valueMin&&(this.dataMin=Math.min(this.dataMin,a[b].valueMin),this.dataMax=Math.max(this.dataMax,a[b].valueMax))},drawCrosshair:function(a,b){var e=b&&b.plotX,d=b&&b.plotY,k,m=this.pos,c=this.len;b&&(k=this.toPixels(b[b.series.colorKey]),
k<m?k=m-2:k>m+c&&(k=m+c+2),b.plotX=k,b.plotY=this.len-k,f.prototype.drawCrosshair.call(this,a,b),b.plotX=e,b.plotY=d,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0))},getPlotLinePath:function(a,b,e,d,k){return t(k)?this.horiz?["M",k-4,this.top-6,"L",k+4,this.top-6,k,this.top,"Z"]:["M",this.left,k,"L",this.left-6,k+6,this.left-6,k-6,"Z"]:f.prototype.getPlotLinePath.call(this,a,b,e,
d)},update:function(a,b){var e=this.chart,d=e.legend;n(this.series,function(a){a.isDirtyData=!0});a.dataClasses&&d.allItems&&(n(d.allItems,function(a){a.isDataClass&&a.legendGroup&&a.legendGroup.destroy()}),e.isDirtyLegend=!0);e.options[this.coll]=k(this.userOptions,a);f.prototype.update.call(this,a,b);this.legendItem&&(this.setLegendColor(),d.colorizeItem(this,!0))},remove:function(){this.legendItem&&this.chart.legend.destroyItem(this);f.prototype.remove.call(this)},getDataClassLegendSymbols:function(){var k=
this,c=this.chart,e=this.legendItems,x=c.options.legend,g=x.valueDecimals,q=x.valueSuffix||"",p;e.length||n(this.dataClasses,function(m,x){var r=!0,v=m.from,f=m.to;p="";void 0===v?p="\x3c ":void 0===f&&(p="\x3e ");void 0!==v&&(p+=a.numberFormat(v,g)+q);void 0!==v&&void 0!==f&&(p+=" - ");void 0!==f&&(p+=a.numberFormat(f,g)+q);e.push(u({chart:c,name:p,options:{},drawLegendSymbol:b.drawRectangle,visible:!0,setState:d,isDataClass:!0,setVisible:function(){r=this.visible=!r;n(k.series,function(a){n(a.points,
function(a){a.dataClass===x&&a.setVisible(r)})});c.legend.colorizeItem(this,r)}},m))});return e},name:""}),n(["fill","stroke"],function(b){a.Fx.prototype[b+"Setter"]=function(){this.elem.attr(b,c(this.start).tweenTo(c(this.end),this.pos),null,!0)}}),h(l,"afterGetAxes",function(){var a=this.options.colorAxis;this.colorAxis=[];a&&new p(this,a)}),h(g,"afterGetAllItems",function(b){var d=[],e=this.chart.colorAxis[0];e&&e.options&&(e.options.showInLegend&&(e.options.dataClasses?d=e.getDataClassLegendSymbols():
d.push(e)),n(e.series,function(e){a.erase(b.allItems,e)}));for(;d.length;)b.allItems.unshift(d.pop())}),h(g,"afterColorizeItem",function(a){a.visible&&a.item.legendColor&&a.item.legendSymbol.attr({fill:a.item.legendColor})}),h(g,"afterUpdate",function(a,b,e){this.chart.colorAxis[0]&&this.chart.colorAxis[0].update({},e)}))})(w);(function(a){var h=a.defined,f=a.each,l=a.noop;a.colorPointMixin={isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value},setVisible:function(a){var c=
this,n=a?"show":"hide";f(["graphic","dataLabel"],function(a){if(c[a])c[a][n]()})},setState:function(c){a.Point.prototype.setState.call(this,c);this.graphic&&this.graphic.attr({zIndex:"hover"===c?1:0})}};a.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:l,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var a=this,p=this.options.nullColor,n=this.colorAxis,
l=this.colorKey;f(this.data,function(c){var g=c[l];if(g=c.options.color||(c.isNull?p:n&&void 0!==g?n.toColor(g,c):c.color||a.color))c.color=g})},colorAttribs:function(a){var c={};h(a.color)&&(c[this.colorProp||"fill"]=a.color);return c}}})(w);(function(a){function h(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function f(a){this.init(a)}var l=a.addEvent,c=a.Chart,p=a.doc,n=a.each,u=a.extend,t=a.merge,g=a.pick;f.prototype.init=function(a){this.chart=
a;a.mapNavButtons=[]};f.prototype.update=function(b){var d=this.chart,k=d.options.mapNavigation,c,r=function(a){this.handler.call(d,a);h(a)},m=d.mapNavButtons;b&&(k=d.options.mapNavigation=t(d.options.mapNavigation,b));for(;m.length;)m.pop().destroy();g(k.enableButtons,k.enabled)&&!d.renderer.forExport&&a.objectEach(k.buttons,function(a,b){c=t(k.buttonOptions,a);a=d.renderer.button(c.text,0,0,r,void 0,void 0,void 0,0,"zoomIn"===b?"topbutton":"bottombutton").addClass("highcharts-map-navigation").attr({width:c.width,
height:c.height,title:d.options.lang[b],padding:c.padding,zIndex:5}).add();a.handler=c.onclick;a.align(u(c,{width:a.width,height:2*a.height}),null,c.alignTo);l(a.element,"dblclick",h);m.push(a)});this.updateEvents(k)};f.prototype.updateEvents=function(a){var b=this.chart;g(a.enableDoubleClickZoom,a.enabled)||a.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||l(b.container,"dblclick",function(a){b.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());
g(a.enableMouseWheelZoom,a.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||l(b.container,void 0===p.onmousewheel?"DOMMouseScroll":"mousewheel",function(a){b.pointer.onContainerMouseWheel(a);h(a);return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};u(c.prototype,{fitToBox:function(a,d){n([["x","width"],["y","height"]],function(b){var c=b[0];b=b[1];a[c]+a[b]>d[c]+d[b]&&(a[b]>d[b]?(a[b]=d[b],a[c]=d[c]):a[c]=d[c]+d[b]-a[b]);a[b]>d[b]&&(a[b]=d[b]);a[c]<d[c]&&(a[c]=d[c])});
return a},mapZoom:function(a,c,k,q,r){var b=this.xAxis[0],e=b.max-b.min,d=g(c,b.min+e/2),v=e*a,e=this.yAxis[0],f=e.max-e.min,p=g(k,e.min+f/2),f=f*a,d=this.fitToBox({x:d-v*(q?(q-b.pos)/b.len:.5),y:p-f*(r?(r-e.pos)/e.len:.5),width:v,height:f},{x:b.dataMin,y:e.dataMin,width:b.dataMax-b.dataMin,height:e.dataMax-e.dataMin}),v=d.x<=b.dataMin&&d.width>=b.dataMax-b.dataMin&&d.y<=e.dataMin&&d.height>=e.dataMax-e.dataMin;q&&(b.fixTo=[q-b.pos,c]);r&&(e.fixTo=[r-e.pos,k]);void 0===a||v?(b.setExtremes(void 0,
void 0,!1),e.setExtremes(void 0,void 0,!1)):(b.setExtremes(d.x,d.x+d.width,!1),e.setExtremes(d.y,d.y+d.height,!1));this.redraw()}});l(c,"beforeRender",function(){this.mapNavigation=new f(this);this.mapNavigation.update()})})(w);(function(a){var h=a.extend,f=a.pick,l=a.Pointer;a=a.wrap;h(l.prototype,{onContainerDblClick:function(a){var c=this.chart;a=this.normalize(a);c.options.mapNavigation.enableDoubleClickZoomTo?c.pointer.inClass(a.target,"highcharts-tracker")&&c.hoverPoint&&c.hoverPoint.zoomTo():
c.isInsidePlot(a.chartX-c.plotLeft,a.chartY-c.plotTop)&&c.mapZoom(.5,c.xAxis[0].toValue(a.chartX),c.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)},onContainerMouseWheel:function(a){var c=this.chart,f;a=this.normalize(a);f=a.detail||-(a.wheelDelta/120);c.isInsidePlot(a.chartX-c.plotLeft,a.chartY-c.plotTop)&&c.mapZoom(Math.pow(c.options.mapNavigation.mouseWheelSensitivity,f),c.xAxis[0].toValue(a.chartX),c.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)}});a(l.prototype,"zoomOption",function(a){var c=
this.chart.options.mapNavigation;f(c.enableTouchZoom,c.enabled)&&(this.chart.options.chart.pinchType="xy");a.apply(this,[].slice.call(arguments,1))});a(l.prototype,"pinchTranslate",function(a,f,l,h,t,g,b){a.call(this,f,l,h,t,g,b);"map"===this.chart.options.chart.type&&this.hasZoom&&(a=h.scaleX>h.scaleY,this.pinchTranslateDirection(!a,f,l,h,t,g,b,a?h.scaleX:h.scaleY))})})(w);(function(a){var h=a.colorPointMixin,f=a.each,l=a.extend,c=a.isNumber,p=a.map,n=a.merge,u=a.noop,t=a.pick,g=a.isArray,b=a.Point,
d=a.Series,k=a.seriesType,q=a.seriesTypes,r=a.splat,m=void 0!==a.doc.documentElement.style.vectorEffect;k("map","scatter",{allAreas:!0,animation:!1,marker:null,stickyTracking:!1,joinBy:"hc-key",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}\x3cbr/\x3e"},states:{normal:{animation:!0},hover:{halo:null,brightness:.2}}},n(a.colorSeriesMixin,{type:"map",
getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:u,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],getBox:function(e){var b=Number.MAX_VALUE,d=-b,k=b,g=-b,m=b,r=b,q=this.xAxis,y=this.yAxis,l;f(e||[],function(e){if(e.path){"string"===typeof e.path&&(e.path=a.splitPath(e.path));var v=e.path||[],f=v.length,q=!1,x=-b,y=b,h=-b,p=b,n=e.properties;if(!e._foundBox){for(;f--;)c(v[f])&&(q?(x=Math.max(x,v[f]),y=Math.min(y,v[f])):(h=Math.max(h,v[f]),p=Math.min(p,v[f])),q=!q);e._midX=
y+(x-y)*t(e.middleX,n&&n["hc-middle-x"],.5);e._midY=p+(h-p)*t(e.middleY,n&&n["hc-middle-y"],.5);e._maxX=x;e._minX=y;e._maxY=h;e._minY=p;e.labelrank=t(e.labelrank,(x-y)*(h-p));e._foundBox=!0}d=Math.max(d,e._maxX);k=Math.min(k,e._minX);g=Math.max(g,e._maxY);m=Math.min(m,e._minY);r=Math.min(e._maxX-e._minX,e._maxY-e._minY,r);l=!0}});l&&(this.minY=Math.min(m,t(this.minY,b)),this.maxY=Math.max(g,t(this.maxY,-b)),this.minX=Math.min(k,t(this.minX,b)),this.maxX=Math.max(d,t(this.maxX,-b)),q&&void 0===q.options.minRange&&
(q.minRange=Math.min(5*r,(this.maxX-this.minX)/5,q.minRange||b)),y&&void 0===y.options.minRange&&(y.minRange=Math.min(5*r,(this.maxY-this.minY)/5,y.minRange||b)))},getExtremes:function(){d.prototype.getExtremes.call(this,this.valueData);this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data);this.valueMin=this.dataMin;this.valueMax=this.dataMax;this.dataMin=this.minY;this.dataMax=this.maxY},translatePath:function(a){var e=!1,b=this.xAxis,d=this.yAxis,k=b.min,g=b.transA,b=b.minPixelPadding,
m=d.min,r=d.transA,d=d.minPixelPadding,f,q=[];if(a)for(f=a.length;f--;)c(a[f])?(q[f]=e?(a[f]-k)*g+b:(a[f]-m)*r+d,e=!e):q[f]=a[f];return q},setData:function(e,b,k,m){var v=this.options,q=this.chart.options.chart,x=q&&q.map,l=v.mapData,h=v.joinBy,t=null===h,B=v.keys||this.pointArrayMap,z=[],u={},A=this.chart.mapTransforms;!l&&x&&(l="string"===typeof x?a.maps[x]:x);t&&(h="_i");h=this.joinBy=r(h);h[1]||(h[1]=h[0]);e&&f(e,function(b,d){var k=0;if(c(b))e[d]={value:b};else if(g(b)){e[d]={};!v.keys&&b.length>
B.length&&"string"===typeof b[0]&&(e[d]["hc-key"]=b[0],++k);for(var m=0;m<B.length;++m,++k)B[m]&&void 0!==b[k]&&(0<B[m].indexOf(".")?a.Point.prototype.setNestedProperty(e[d],b[k],B[m]):e[d][B[m]]=b[k])}t&&(e[d]._i=d)});this.getBox(e);(this.chart.mapTransforms=A=q&&q.mapTransforms||l&&l["hc-transform"]||A)&&a.objectEach(A,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});if(l){"FeatureCollection"===l.type&&(this.mapTitle=l.title,l=a.geojson(l,this.type,this));
this.mapData=l;this.mapMap={};for(A=0;A<l.length;A++)q=l[A],x=q.properties,q._i=A,h[0]&&x&&x[h[0]]&&(q[h[0]]=x[h[0]]),u[q[h[0]]]=q;this.mapMap=u;e&&h[1]&&f(e,function(a){u[a[h[1]]]&&z.push(u[a[h[1]]])});v.allAreas?(this.getBox(l),e=e||[],h[1]&&f(e,function(a){z.push(a[h[1]])}),z="|"+p(z,function(a){return a&&a[h[0]]}).join("|")+"|",f(l,function(a){h[0]&&-1!==z.indexOf("|"+a[h[0]]+"|")||(e.push(n(a,{value:null})),m=!1)})):this.getBox(z)}d.prototype.setData.call(this,e,b,k,m)},drawGraph:u,drawDataLabels:u,
doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var a=this,b=a.xAxis,d=a.yAxis,c=a.doFullTranslate();a.generatePoints();f(a.data,function(e){e.plotX=b.toPixels(e._midX,!0);e.plotY=d.toPixels(e._midY,!0);c&&(e.shapeType="path",e.shapeArgs={d:a.translatePath(e.path)})});a.translateColors()},pointAttribs:function(a,b){a=this.colorAttribs(a);m?a["vector-effect"]="non-scaling-stroke":a["stroke-width"]="inherit";
return a},drawPoints:function(){var a=this,b=a.xAxis,d=a.yAxis,c=a.group,k=a.chart,g=k.renderer,r,h,l,p,n=this.baseTrans,z,t,u,w,H;a.transformGroup||(a.transformGroup=g.g().attr({scaleX:1,scaleY:1}).add(c),a.transformGroup.survive=!0);a.doFullTranslate()?(a.group=a.transformGroup,q.column.prototype.drawPoints.apply(a),a.group=c,f(a.points,function(b){b.graphic&&(b.name&&b.graphic.addClass("highcharts-name-"+b.name.replace(/ /g,"-").toLowerCase()),b.properties&&b.properties["hc-key"]&&b.graphic.addClass("highcharts-key-"+
b.properties["hc-key"].toLowerCase()),b.graphic.css(a.pointAttribs(b,b.selected&&"select")))}),this.baseTrans={originX:b.min-b.minPixelPadding/b.transA,originY:d.min-d.minPixelPadding/d.transA+(d.reversed?0:d.len/d.transA),transAX:b.transA,transAY:d.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(r=b.transA/n.transAX,h=d.transA/n.transAY,l=b.toPixels(n.originX,!0),p=d.toPixels(n.originY,!0),.99<r&&1.01>r&&.99<h&&1.01>h&&(h=r=1,l=Math.round(l),p=Math.round(p)),
z=this.transformGroup,k.renderer.globalAnimation?(t=z.attr("translateX"),u=z.attr("translateY"),w=z.attr("scaleX"),H=z.attr("scaleY"),z.attr({animator:0}).animate({animator:1},{step:function(a,b){z.attr({translateX:t+(l-t)*b.pos,translateY:u+(p-u)*b.pos,scaleX:w+(r-w)*b.pos,scaleY:H+(h-H)*b.pos})}})):z.attr({translateX:l,translateY:p,scaleX:r,scaleY:h}));m||a.group.element.setAttribute("stroke-width",a.options[a.pointAttrToOptions&&a.pointAttrToOptions["stroke-width"]||"borderWidth"]/(r||1));this.drawMapDataLabels()},
drawMapDataLabels:function(){d.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var a=this,b=d.prototype.render;a.chart.renderer.isVML&&3E3<a.data.length?setTimeout(function(){b.call(a)}):b.call(a)},animate:function(a){var b=this.options.animation,e=this.group,d=this.xAxis,c=this.yAxis,k=d.pos,g=c.pos;this.chart.renderer.isSVG&&(!0===b&&(b={duration:1E3}),a?e.attr({translateX:k+d.len/2,translateY:g+c.len/2,scaleX:.001,scaleY:.001}):
(e.animate({translateX:k,translateY:g,scaleX:1,scaleY:1},b),this.animate=null))},animateDrilldown:function(a){var b=this.chart.plotBox,e=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],d=e.bBox,c=this.chart.options.drilldown.animation;a||(a=Math.min(d.width/b.width,d.height/b.height),e.shapeArgs={scaleX:a,scaleY:a,translateX:d.x,translateY:d.y},f(this.points,function(a){a.graphic&&a.graphic.attr(e.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},c)}),this.animate=null)},
drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,animateDrillupFrom:function(a){q.column.prototype.animateDrillupFrom.call(this,a)},animateDrillupTo:function(a){q.column.prototype.animateDrillupTo.call(this,a)}}),l({applyOptions:function(a,d){a=b.prototype.applyOptions.call(this,a,d);d=this.series;var e=d.joinBy;d.mapData&&((e=void 0!==a[e[1]]&&d.mapMap[a[e[1]]])?(d.xyFromShape&&(a.x=e._midX,a.y=e._midY),l(a,e)):a.value=a.value||null);return a},onMouseOver:function(e){a.clearTimeout(this.colorInterval);
if(null!==this.value||this.series.options.nullInteraction)b.prototype.onMouseOver.call(this,e);else this.series.onMouseOut(e)},zoomTo:function(){var a=this.series;a.xAxis.setExtremes(this._minX,this._maxX,!1);a.yAxis.setExtremes(this._minY,this._maxY,!1);a.chart.redraw()}},h))})(w);(function(a){var h=a.seriesType;h("mapline","map",{},{type:"mapline",colorProp:"stroke",drawLegendSymbol:a.seriesTypes.line.prototype.drawLegendSymbol})})(w);(function(a){var h=a.merge,f=a.Point;a=a.seriesType;a("mappoint",
"scatter",{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0},{applyOptions:function(a,c){a=void 0!==a.lat&&void 0!==a.lon?h(a,this.series.chart.fromLatLonToPoint(a)):a;return f.prototype.applyOptions.call(this,a,c)}})})(w);(function(a){var h=a.arrayMax,f=a.arrayMin,l=a.Axis,c=a.each,p=a.isNumber,n=a.noop,u=a.pick,t=a.pInt,g=a.Point,b=a.seriesType,d=a.seriesTypes;b("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},
inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,getRadii:function(a,b,d,c){var e,k,g,m=
this.zData,r=[],f=this.options,q="width"!==f.sizeBy,h=f.zThreshold,l=b-a;k=0;for(e=m.length;k<e;k++)g=m[k],f.sizeByAbsoluteValue&&null!==g&&(g=Math.abs(g-h),b=l=Math.max(b-h,Math.abs(a-h)),a=0),null===g?g=null:g<a?g=d/2-1:(g=0<l?(g-a)/l:.5,q&&0<=g&&(g=Math.sqrt(g)),g=Math.ceil(d+g*(c-d))/2),r.push(g);this.radii=r},animate:function(a){!a&&this.points.length<this.options.animationLimit&&(c(this.points,function(a){var b=a.graphic,d;b&&b.width&&(d={x:b.x,y:b.y,width:b.width,height:b.height},b.attr({x:a.plotX,
y:a.plotY,width:1,height:1}),b.animate(d,this.options.animation))},this),this.animate=null)},translate:function(){var b,c=this.data,g,m,e=this.radii;d.scatter.prototype.translate.call(this);for(b=c.length;b--;)g=c[b],m=e?e[b]:0,p(m)&&m>=this.minPxSize/2?(g.marker=a.extend(g.marker,{radius:m,width:2*m,height:2*m}),g.dlBox={x:g.plotX-m,y:g.plotY-m,width:2*m,height:2*m}):g.shapeArgs=g.plotY=g.dlBox=void 0},alignDataLabel:d.column.prototype.alignDataLabel,buildKDTree:n,applyZones:n},{haloPath:function(a){return g.prototype.haloPath.call(this,
0===a?0:(this.marker?this.marker.radius||0:0)+a)},ttBelow:!1});l.prototype.beforePadding=function(){var a=this,b=this.len,d=this.chart,g=0,e=b,l=this.isXAxis,n=l?"xData":"yData",w=this.min,C={},I=Math.min(d.plotWidth,d.plotHeight),E=Number.MAX_VALUE,F=-Number.MAX_VALUE,y=this.max-w,D=b/y,G=[];c(this.series,function(b){var e=b.options;!b.bubblePadding||!b.visible&&d.options.chart.ignoreHiddenSeries||(a.allowZoomOutside=!0,G.push(b),l&&(c(["minSize","maxSize"],function(a){var b=e[a],d=/%$/.test(b),
b=t(b);C[a]=d?I*b/100:b}),b.minPxSize=C.minSize,b.maxPxSize=Math.max(C.maxSize,C.minSize),b=b.zData,b.length&&(E=u(e.zMin,Math.min(E,Math.max(f(b),!1===e.displayNegative?e.zThreshold:-Number.MAX_VALUE))),F=u(e.zMax,Math.max(F,h(b))))))});c(G,function(b){var d=b[n],c=d.length,k;l&&b.getRadii(E,F,b.minPxSize,b.maxPxSize);if(0<y)for(;c--;)p(d[c])&&a.dataMin<=d[c]&&d[c]<=a.dataMax&&(k=b.radii[c],g=Math.min((d[c]-w)*D-k,g),e=Math.max((d[c]-w)*D+k,e))});G.length&&0<y&&!this.isLog&&(e-=b,D*=(b+g-e)/b,c([["min",
"userMin",g],["max","userMax",e]],function(b){void 0===u(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/D)}))}})(w);(function(a){var h=a.merge,f=a.Point,l=a.seriesType,c=a.seriesTypes;c.bubble&&l("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:c.map.prototype.getMapData,getBox:c.map.prototype.getBox,setData:c.map.prototype.setData},{applyOptions:function(a,l){return a&&void 0!==a.lat&&void 0!==a.lon?
f.prototype.applyOptions.call(this,h(a,this.series.chart.fromLatLonToPoint(a)),l):c.map.prototype.pointClass.prototype.applyOptions.call(this,a,l)},isValid:function(){return"number"===typeof this.z},ttBelow:!1})})(w);(function(a){var h=a.colorPointMixin,f=a.each,l=a.merge,c=a.noop,p=a.pick,n=a.Series,u=a.seriesType,t=a.seriesTypes;u("heatmap","scatter",{animation:!1,borderWidth:0,dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},
marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}\x3cbr/\x3e"},states:{hover:{halo:!1,brightness:.2}}},l(a.colorSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var a;t.scatter.prototype.init.apply(this,arguments);a=this.options;a.pointRange=p(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1},translate:function(){var a=this.options,b=this.xAxis,d=this.yAxis,c=a.pointPadding||
0,h=function(a,b,d){return Math.min(Math.max(b,a),d)};this.generatePoints();f(this.points,function(g){var k=(a.colsize||1)/2,e=(a.rowsize||1)/2,f=h(Math.round(b.len-b.translate(g.x-k,0,1,0,1)),-b.len,2*b.len),k=h(Math.round(b.len-b.translate(g.x+k,0,1,0,1)),-b.len,2*b.len),l=h(Math.round(d.translate(g.y-e,0,1,0,1)),-d.len,2*d.len),e=h(Math.round(d.translate(g.y+e,0,1,0,1)),-d.len,2*d.len),q=p(g.pointPadding,c);g.plotX=g.clientX=(f+k)/2;g.plotY=(l+e)/2;g.shapeType="rect";g.shapeArgs={x:Math.min(f,
k)+q,y:Math.min(l,e)+q,width:Math.abs(k-f)-2*q,height:Math.abs(e-l)-2*q}});this.translateColors()},drawPoints:function(){t.column.prototype.drawPoints.call(this);f(this.points,function(a){a.graphic.css(this.colorAttribs(a))},this)},animate:c,getBox:c,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,alignDataLabel:t.column.prototype.alignDataLabel,getExtremes:function(){n.prototype.getExtremes.call(this,this.valueData);this.valueMin=this.dataMin;this.valueMax=this.dataMax;n.prototype.getExtremes.call(this)}}),
a.extend({haloPath:function(a){if(!a)return[];var b=this.shapeArgs;return["M",b.x-a,b.y-a,"L",b.x-a,b.y+b.height+a,b.x+b.width+a,b.y+b.height+a,b.x+b.width+a,b.y-a,"Z"]}},h))})(w);(function(a){function h(a,b){var d,c,g,f=!1,m=a.x,e=a.y;a=0;for(d=b.length-1;a<b.length;d=a++)c=b[a][1]>e,g=b[d][1]>e,c!==g&&m<(b[d][0]-b[a][0])*(e-b[a][1])/(b[d][1]-b[a][1])+b[a][0]&&(f=!f);return f}var f=a.Chart,l=a.each,c=a.extend,p=a.format,n=a.merge,u=a.win,t=a.wrap;f.prototype.transformFromLatLon=function(c,b){if(void 0===
u.proj4)return a.error(21),{x:0,y:null};c=u.proj4(b.crs,[c.lon,c.lat]);var d=b.cosAngle||b.rotation&&Math.cos(b.rotation),k=b.sinAngle||b.rotation&&Math.sin(b.rotation);c=b.rotation?[c[0]*d+c[1]*k,-c[0]*k+c[1]*d]:c;return{x:((c[0]-(b.xoffset||0))*(b.scale||1)+(b.xpan||0))*(b.jsonres||1)+(b.jsonmarginX||0),y:(((b.yoffset||0)-c[1])*(b.scale||1)+(b.ypan||0))*(b.jsonres||1)-(b.jsonmarginY||0)}};f.prototype.transformToLatLon=function(c,b){if(void 0===u.proj4)a.error(21);else{c={x:((c.x-(b.jsonmarginX||
0))/(b.jsonres||1)-(b.xpan||0))/(b.scale||1)+(b.xoffset||0),y:((-c.y-(b.jsonmarginY||0))/(b.jsonres||1)+(b.ypan||0))/(b.scale||1)+(b.yoffset||0)};var d=b.cosAngle||b.rotation&&Math.cos(b.rotation),k=b.sinAngle||b.rotation&&Math.sin(b.rotation);b=u.proj4(b.crs,"WGS84",b.rotation?{x:c.x*d+c.y*-k,y:c.x*k+c.y*d}:c);return{lat:b.y,lon:b.x}}};f.prototype.fromPointToLatLon=function(c){var b=this.mapTransforms,d;if(b){for(d in b)if(b.hasOwnProperty(d)&&b[d].hitZone&&h({x:c.x,y:-c.y},b[d].hitZone.coordinates[0]))return this.transformToLatLon(c,
b[d]);return this.transformToLatLon(c,b["default"])}a.error(22)};f.prototype.fromLatLonToPoint=function(c){var b=this.mapTransforms,d,k;if(!b)return a.error(22),{x:0,y:null};for(d in b)if(b.hasOwnProperty(d)&&b[d].hitZone&&(k=this.transformFromLatLon(c,b[d]),h({x:k.x,y:-k.y},b[d].hitZone.coordinates[0])))return k;return this.transformFromLatLon(c,b["default"])};a.geojson=function(a,b,d){var k=[],f=[],g=function(a){var b,d=a.length;f.push("M");for(b=0;b<d;b++)1===b&&f.push("L"),f.push(a[b][0],-a[b][1])};
b=b||"map";l(a.features,function(a){var d=a.geometry,h=d.type,d=d.coordinates;a=a.properties;var m;f=[];"map"===b||"mapbubble"===b?("Polygon"===h?(l(d,g),f.push("Z")):"MultiPolygon"===h&&(l(d,function(a){l(a,g)}),f.push("Z")),f.length&&(m={path:f})):"mapline"===b?("LineString"===h?g(d):"MultiLineString"===h&&l(d,g),f.length&&(m={path:f})):"mappoint"===b&&"Point"===h&&(m={x:d[0],y:-d[1]});m&&k.push(c(m,{name:a.name||a.NAME,properties:a}))});d&&a.copyrightShort&&(d.chart.mapCredits=p(d.chart.options.credits.mapText,
{geojson:a}),d.chart.mapCreditsFull=p(d.chart.options.credits.mapTextFull,{geojson:a}));return k};t(f.prototype,"addCredits",function(a,b){b=n(!0,this.options.credits,b);this.mapCredits&&(b.href=null);a.call(this,b);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})})(w);(function(a){function h(a,b,c,f,g,e,h,l){return["M",a+g,b,"L",a+c-e,b,"C",a+c-e/2,b,a+c,b+e/2,a+c,b+e,"L",a+c,b+f-h,"C",a+c,b+f-h/2,a+c-h/2,b+f,a+c-h,b+f,"L",a+l,b+f,"C",a+l/2,b+f,a,b+f-l/2,a,b+f-
l,"L",a,b+g,"C",a,b+g/2,a+g/2,b,a+g,b,"Z"]}var f=a.Chart,l=a.defaultOptions,c=a.each,p=a.extend,n=a.merge,u=a.pick,t=a.Renderer,g=a.SVGRenderer,b=a.VMLRenderer;p(l.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});l.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};a.splitPath=function(a){var b;
a=a.replace(/([A-Za-z])/g," $1 ");a=a.replace(/^\s*/,"").replace(/\s*$/,"");a=a.split(/[ ,]+/);for(b=0;b<a.length;b++)/[a-zA-Z]/.test(a[b])||(a[b]=parseFloat(a[b]));return a};a.maps={};g.prototype.symbols.topbutton=function(a,b,c,f,g){return h(a-1,b-1,c,f,g.r,g.r,0,0)};g.prototype.symbols.bottombutton=function(a,b,c,f,g){return h(a-1,b-1,c,f,0,0,g.r,g.r)};t===b&&c(["topbutton","bottombutton"],function(a){b.prototype.symbols[a]=g.prototype.symbols[a]});a.Map=a.mapChart=function(b,c,g){var d="string"===
typeof b||b.nodeName,h=arguments[d?1:0],e={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},k,l=a.getOptions().credits;k=h.series;h.series=null;h=n({chart:{panning:"xy",type:"map"},credits:{mapText:u(l.mapText,' \u00a9 \x3ca href\x3d"{geojson.copyrightUrl}"\x3e{geojson.copyrightShort}\x3c/a\x3e'),mapTextFull:u(l.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:e,yAxis:n(e,{reversed:!0})},h,{chart:{inverted:!1,alignTicks:!1}});h.series=k;return d?new f(b,h,g):
new f(h,c)}})(w)});
