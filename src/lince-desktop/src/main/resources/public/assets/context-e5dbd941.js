import{r,bW as k,a5 as g,bX as y,a7 as O,a8 as P,bY as j}from"./index-b2960181.js";const F=(o,u)=>{const e=r.useContext(k),f=r.useMemo(()=>{var t;const a=u||g[o],v=(t=e==null?void 0:e[o])!==null&&t!==void 0?t:{};return Object.assign(Object.assign({},typeof a=="function"?a():a),v||{})},[o,u,e]),l=r.useMemo(()=>{const t=e==null?void 0:e.locale;return e!=null&&e.exist&&!t?g.locale:t},[e]);return[f,l]},T=F;function x(o){return!!(o&&o.then)}const A=o=>{const{type:u,children:e,prefixCls:f,buttonProps:l,close:t,autoFocus:a,emitEvent:v,isSilent:m,quitOnNullishReturnValue:b,actionFn:i}=o,c=r.useRef(!1),p=r.useRef(null),[L,C]=y(!1),d=function(){t==null||t.apply(void 0,arguments)};r.useEffect(()=>{let s=null;return a&&(s=setTimeout(()=>{var n;(n=p.current)===null||n===void 0||n.focus()})),()=>{s&&clearTimeout(s)}},[]);const E=s=>{x(s)&&(C(!0),s.then(function(){C(!1,!0),d.apply(void 0,arguments),c.current=!1},n=>{if(C(!1,!0),c.current=!1,!(m!=null&&m()))return Promise.reject(n)}))},h=s=>{if(c.current)return;if(c.current=!0,!i){d();return}let n;if(v){if(n=i(s),b&&!x(n)){c.current=!1,d(s);return}}else if(i.length)n=i(t),c.current=!1;else if(n=i(),!n){d();return}E(n)};return r.createElement(O,Object.assign({},P(u),{onClick:h,loading:L,prefixCls:f},l,{ref:p}),e)},q=A;function R(){}const B=r.createContext({add:R,remove:R});function I(o){const u=r.useContext(B),e=r.useRef();return j(l=>{if(l){const t=o?l.querySelector(o):l;u.add(t),e.current=t}else u.remove(e.current)})}export{q as A,I as a,T as u};
